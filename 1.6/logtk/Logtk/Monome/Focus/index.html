<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Focus (logtk.Logtk.Monome.Focus)</title><link rel="stylesheet" href="../../../../odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc %%VERSION%%"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../index.html">Up</a> â€“ <a href="../../../index.html">logtk</a> &#x00BB; <a href="../../index.html">Logtk</a> &#x00BB; <a href="../index.html">Monome</a> &#x00BB; Focus</nav><h1>Module <code>Monome.Focus</code></h1><p>Focus on a specific term</p></header><dl><dt class="spec type" id="type-t"><a href="#type-t" class="anchor"></a><code><span class="keyword">type</span> <span>'a t</span></code><code> = </code><code>{</code><table class="record"><tr id="type-t.term" class="anchored"><td class="def field"><a href="#type-t.term" class="anchor"></a><code>term : <a href="../index.html#type-term">term</a>;</code></td></tr><tr id="type-t.coeff" class="anchored"><td class="def field"><a href="#type-t.coeff" class="anchor"></a><code>coeff : <span class="type-var">'a</span>;</code></td><td class="doc"><p>Never 0</p></td></tr><tr id="type-t.rest" class="anchored"><td class="def field"><a href="#type-t.rest" class="anchor"></a><code>rest : <span><span class="type-var">'a</span> <a href="../index.html#type-monome">monome</a></span>;</code></td></tr></table><code>}</code></dt></dl><dl><dt class="spec value" id="val-get"><a href="#val-get" class="anchor"></a><code><span class="keyword">val</span> get : <span><span class="type-var">'a</span> <a href="../index.html#type-monome">monome</a></span> <span>&#45;&gt;</span> int <span>&#45;&gt;</span> <span><span class="type-var">'a</span> <a href="index.html#type-t">t</a></span></code></dt><dd><dl><dt>raises Invalid_argument</dt><dd><p>if the index is invalid</p></dd></dl></dd></dl><dl><dt class="spec value" id="val-focus_term"><a href="#val-focus_term" class="anchor"></a><code><span class="keyword">val</span> focus_term : <span><span class="type-var">'a</span> <a href="../index.html#type-monome">monome</a></span> <span>&#45;&gt;</span> <a href="../index.html#type-term">term</a> <span>&#45;&gt;</span> <span><span><span class="type-var">'a</span> <a href="index.html#type-t">t</a></span> option</span></code></dt><dd><p>Focus on the given term, if it is one of the members of the given monome.</p></dd></dl><dl><dt class="spec value" id="val-focus_term_exn"><a href="#val-focus_term_exn" class="anchor"></a><code><span class="keyword">val</span> focus_term_exn : <span><span class="type-var">'a</span> <a href="../index.html#type-monome">monome</a></span> <span>&#45;&gt;</span> <a href="../index.html#type-term">term</a> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> <a href="index.html#type-t">t</a></span></code></dt><dd><p>Same as <a href="index.html#val-focus_term"><code>focus_term</code></a>, but</p><dl><dt>raises Failure</dt><dd><p>on failure</p></dd></dl></dd></dl><dl><dt class="spec value" id="val-to_monome"><a href="#val-to_monome" class="anchor"></a><code><span class="keyword">val</span> to_monome : <span><span class="type-var">'a</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> <a href="../index.html#type-monome">monome</a></span></code></dt><dd><p>Conversion back to an unfocused monome</p></dd></dl><dl><dt class="spec value" id="val-coeff"><a href="#val-coeff" class="anchor"></a><code><span class="keyword">val</span> coeff : <span><span class="type-var">'a</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span class="type-var">'a</span></code></dt><dt class="spec value" id="val-term"><a href="#val-term" class="anchor"></a><code><span class="keyword">val</span> term : <span><span class="type-var">'a</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <a href="../index.html#type-term">term</a></code></dt><dt class="spec value" id="val-rest"><a href="#val-rest" class="anchor"></a><code><span class="keyword">val</span> rest : <span><span class="type-var">'a</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> <a href="../index.html#type-monome">monome</a></span></code></dt><dt class="spec value" id="val-sum"><a href="#val-sum" class="anchor"></a><code><span class="keyword">val</span> sum : <span><span class="type-var">'a</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> <a href="../index.html#type-monome">monome</a></span> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> <a href="index.html#type-t">t</a></span></code></dt><dt class="spec value" id="val-difference"><a href="#val-difference" class="anchor"></a><code><span class="keyword">val</span> difference : <span><span class="type-var">'a</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> <a href="../index.html#type-monome">monome</a></span> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> <a href="index.html#type-t">t</a></span></code></dt><dt class="spec value" id="val-uminus"><a href="#val-uminus" class="anchor"></a><code><span class="keyword">val</span> uminus : <span><span class="type-var">'a</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> <a href="index.html#type-t">t</a></span></code></dt><dt class="spec value" id="val-product"><a href="#val-product" class="anchor"></a><code><span class="keyword">val</span> product : <span><span class="type-var">'a</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span class="type-var">'a</span> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> <a href="index.html#type-t">t</a></span></code></dt><dd><dl><dt>raises Invalid_argument</dt><dd><p>if the number is 0</p></dd></dl></dd></dl><dl><dt class="spec value" id="val-map"><a href="#val-map" class="anchor"></a><code><span class="keyword">val</span> map : <span>?&#8288;term:<span>(<a href="../index.html#type-term">term</a> <span>&#45;&gt;</span> <a href="../index.html#type-term">term</a>)</span></span> <span>&#45;&gt;</span> <span>?&#8288;coeff:<span>(<span class="type-var">'a</span> <span>&#45;&gt;</span> <span class="type-var">'a</span>)</span></span> <span>&#45;&gt;</span> <span>?&#8288;rest:<span>(<span><span class="type-var">'a</span> <a href="../index.html#type-monome">monome</a></span> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> <a href="../index.html#type-monome">monome</a></span>)</span></span> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> <a href="index.html#type-t">t</a></span></code></dt><dt class="spec value" id="val-scale"><a href="#val-scale" class="anchor"></a><code><span class="keyword">val</span> scale : <span><span class="type-var">'a</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> <a href="index.html#type-t">t</a></span> * <span><span class="type-var">'a</span> <a href="index.html#type-t">t</a></span></code></dt><dd><p>Scale to the same coefficient</p></dd></dl><dl><dt class="spec value" id="val-is_max"><a href="#val-is_max" class="anchor"></a><code><span class="keyword">val</span> is_max : <span>ord:<a href="../../Ordering/index.html#type-t">Ordering.t</a></span> <span>&#45;&gt;</span> <span><span class="type-var">_</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> bool</code></dt><dd><p>Is the focused term maximal in the monome?</p></dd></dl><dl><dt class="spec value" id="val-fold_m"><a href="#val-fold_m" class="anchor"></a><code><span class="keyword">val</span> fold_m : <span>pos:<a href="../../Position/index.html#type-t">Position.t</a></span> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> <a href="../index.html#type-monome">monome</a></span> <span>&#45;&gt;</span> <span class="type-var">'b</span> <span>&#45;&gt;</span> <span>(<span class="type-var">'b</span> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <a href="../../Position/index.html#type-t">Position.t</a> <span>&#45;&gt;</span> <span class="type-var">'b</span>)</span> <span>&#45;&gt;</span> <span class="type-var">'b</span></code></dt><dd><p>Fold on terms of the given monome, focusing on them one by one, along with the position of the focused term</p></dd></dl><dl><dt class="spec value" id="val-apply_subst"><a href="#val-apply_subst" class="anchor"></a><code><span class="keyword">val</span> apply_subst : <a href="../../Subst/Renaming/index.html#type-t">Subst.Renaming.t</a> <span>&#45;&gt;</span> <a href="../../Subst/index.html#type-t">Subst.t</a> <span>&#45;&gt;</span> <span><span><span class="type-var">'a</span> <a href="index.html#type-t">t</a></span> <a href="../../Scoped/index.html#type-t">Scoped.t</a></span> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> <a href="index.html#type-t">t</a></span></code></dt><dd><p>Apply a substitution. This can modify the set of terms in <code>rest</code> because some of them may become equal to the focused term.</p></dd></dl><aside><p>Here we don't unify full (focused) monomes together, but only the focused part (and possibly some unfocused terms too) together. For instance, unifying <code>f(x)* + 2a</code> and <code>f(y)* + f(z) + b</code> (where focused terms are starred) will yield both <code>(1,1,x=y)</code> and <code>(1,2,x=y=z)</code> since <code>f(z)</code> becomes focused too.</p><p>Again, arith constants are not unifiable with unshielded variables.</p></aside><dl><dt class="spec value" id="val-unify_ff"><a href="#val-unify_ff" class="anchor"></a><code><span class="keyword">val</span> unify_ff : <span>?&#8288;subst:<a href="../../Unif_subst/index.html#type-t">Unif_subst.t</a></span> <span>&#45;&gt;</span> <span><span><span class="type-var">'a</span> <a href="index.html#type-t">t</a></span> <a href="../../Scoped/index.html#type-t">Scoped.t</a></span> <span>&#45;&gt;</span> <span><span><span class="type-var">'a</span> <a href="index.html#type-t">t</a></span> <a href="../../Scoped/index.html#type-t">Scoped.t</a></span> <span>&#45;&gt;</span> <span><span>(<span><span class="type-var">'a</span> <a href="index.html#type-t">t</a></span> * <span><span class="type-var">'a</span> <a href="index.html#type-t">t</a></span> * <a href="../../Unif_subst/index.html#type-t">Unif_subst.t</a>)</span> Iter.t</span></code></dt><dd><p>Unify two focused monomes. All returned unifiers are unifiers of the focused terms, but maybe also of other unfocused terms; Focused monomes are modified by unification because several terms might merge with the focused term, so the new ones are returned with the unifier itself</p></dd></dl><dl><dt class="spec value" id="val-unify_mm"><a href="#val-unify_mm" class="anchor"></a><code><span class="keyword">val</span> unify_mm : <span>?&#8288;subst:<a href="../../Unif_subst/index.html#type-t">Unif_subst.t</a></span> <span>&#45;&gt;</span> <span><span><span class="type-var">'a</span> <a href="../index.html#type-monome">monome</a></span> <a href="../../Scoped/index.html#type-t">Scoped.t</a></span> <span>&#45;&gt;</span> <span><span><span class="type-var">'a</span> <a href="../index.html#type-monome">monome</a></span> <a href="../../Scoped/index.html#type-t">Scoped.t</a></span> <span>&#45;&gt;</span> <span><span>(<span><span class="type-var">'a</span> <a href="index.html#type-t">t</a></span> * <span><span class="type-var">'a</span> <a href="index.html#type-t">t</a></span> * <a href="../../Unif_subst/index.html#type-t">Unif_subst.t</a>)</span> Iter.t</span></code></dt><dd><p>Unify parts of two monomes <code>m1</code> and <code>m2</code>. For each such unifier we return the versions of <code>m1</code> and <code>m2</code> where the unified terms are focused.</p></dd></dl><dl><dt class="spec value" id="val-unify_self"><a href="#val-unify_self" class="anchor"></a><code><span class="keyword">val</span> unify_self : <span>?&#8288;subst:<a href="../../Unif_subst/index.html#type-t">Unif_subst.t</a></span> <span>&#45;&gt;</span> <span><span><span class="type-var">'a</span> <a href="index.html#type-t">t</a></span> <a href="../../Scoped/index.html#type-t">Scoped.t</a></span> <span>&#45;&gt;</span> <span><span>(<span><span class="type-var">'a</span> <a href="index.html#type-t">t</a></span> * <a href="../../Unif_subst/index.html#type-t">Unif_subst.t</a>)</span> Iter.t</span></code></dt><dd><p>Extend the substitution to other terms within the focused monome, if possible. For instance it might return <code>2f(x)+a, {x=y}</code> for the monome <code>f(x)+f(y)+a</code> where <code>f(x)</code> is focused.</p></dd></dl><dl><dt class="spec value" id="val-unify_self_monome"><a href="#val-unify_self_monome" class="anchor"></a><code><span class="keyword">val</span> unify_self_monome : <span>?&#8288;subst:<a href="../../Unif_subst/index.html#type-t">Unif_subst.t</a></span> <span>&#45;&gt;</span> <span><span><span class="type-var">'a</span> <a href="../index.html#type-monome">monome</a></span> <a href="../../Scoped/index.html#type-t">Scoped.t</a></span> <span>&#45;&gt;</span> <span><span>(<span><span class="type-var">'a</span> <a href="index.html#type-t">t</a></span> * <a href="../../Unif_subst/index.html#type-t">Unif_subst.t</a>)</span> Iter.t</span></code></dt><dd><p>Unify at least two terms of the monome together</p></dd></dl><dl><dt class="spec value" id="val-pp"><a href="#val-pp" class="anchor"></a><code><span class="keyword">val</span> pp : <span><span><span class="type-var">_</span> <a href="index.html#type-t">t</a></span> CCFormat.printer</span></code></dt></dl></div></body></html>