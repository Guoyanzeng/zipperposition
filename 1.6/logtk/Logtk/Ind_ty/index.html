<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Ind_ty (logtk.Logtk.Ind_ty)</title><link rel="stylesheet" href="../../../odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc %%VERSION%%"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../index.html">Up</a> â€“ <a href="../../index.html">logtk</a> &#x00BB; <a href="../index.html">Logtk</a> &#x00BB; Ind_ty</nav><h1>Module <code>Logtk.Ind_ty</code></h1><nav class="toc"><ul><li><a href="#inductive-types">Inductive Types</a><ul><li><a href="#inductive-types">Inductive Types</a></li><li><a href="#constructors">Constructors</a></li><li><a href="#projectors">Projectors</a></li></ul></li></ul></nav></header><section><header><h2 id="inductive-types"><a href="#inductive-types" class="anchor"></a>Inductive Types</h2></header><aside><p>An inductive datatype, defined by a list of constructors (and associated projectors that are defined as partial functions). Inductive types can be mutually recursive.</p></aside><dl><dt class="spec value" id="val-section"><a href="#val-section" class="anchor"></a><code><span class="keyword">val</span> section : <a href="../Util/Section/index.html#type-t">Util.Section.t</a></code></dt></dl><dl><dt class="spec type" id="type-constructor"><a href="#type-constructor" class="anchor"></a><code><span class="keyword">type</span> constructor</code><code> = <span class="keyword">private</span> </code><code>{</code><table class="record"><tr id="type-constructor.cstor_name" class="anchored"><td class="def field"><a href="#type-constructor.cstor_name" class="anchor"></a><code>cstor_name : <a href="../ID/index.html#type-t">ID.t</a>;</code></td></tr><tr id="type-constructor.cstor_ty" class="anchored"><td class="def field"><a href="#type-constructor.cstor_ty" class="anchor"></a><code>cstor_ty : <a href="../Type/index.html#type-t">Type.t</a>;</code></td></tr><tr id="type-constructor.cstor_args" class="anchored"><td class="def field"><a href="#type-constructor.cstor_args" class="anchor"></a><code>cstor_args : <span><span>(<a href="../Type/index.html#type-t">Type.t</a> * <a href="index.html#type-projector">projector</a>)</span> list</span>;</code></td></tr></table><code>}</code></dt><dd><p>Constructor for an inductive type</p></dd></dl><dl><dt class="spec type" id="type-projector"><a href="#type-projector" class="anchor"></a><code><span class="keyword">and</span> projector</code><code> = <span class="keyword">private</span> </code><code>{</code><table class="record"><tr id="type-projector.p_id" class="anchored"><td class="def field"><a href="#type-projector.p_id" class="anchor"></a><code>p_id : <a href="../ID/index.html#type-t">ID.t</a>;</code></td></tr><tr id="type-projector.p_ty" class="anchored"><td class="def field"><a href="#type-projector.p_ty" class="anchor"></a><code>p_ty : <a href="../Type/index.html#type-t">Type.t</a>;</code></td></tr><tr id="type-projector.p_index" class="anchored"><td class="def field"><a href="#type-projector.p_index" class="anchor"></a><code>p_index : int;</code></td></tr><tr id="type-projector.p_cstor" class="anchored"><td class="def field"><a href="#type-projector.p_cstor" class="anchor"></a><code>p_cstor : <span><a href="index.html#type-constructor">constructor</a> lazy_t</span>;</code></td></tr></table><code>}</code></dt><dd><p>A projector for a given constructor and argument position</p></dd></dl><section><header><h6 id="inductive-types"><a href="#inductive-types" class="anchor"></a>Inductive Types</h6></header><dl><dt class="spec type" id="type-t"><a href="#type-t" class="anchor"></a><code><span class="keyword">type</span> t</code><code> = <span class="keyword">private</span> </code><code>{</code><table class="record"><tr id="type-t.ty_id" class="anchored"><td class="def field"><a href="#type-t.ty_id" class="anchor"></a><code>ty_id : <a href="../ID/index.html#type-t">ID.t</a>;</code></td></tr><tr id="type-t.ty_vars" class="anchored"><td class="def field"><a href="#type-t.ty_vars" class="anchor"></a><code>ty_vars : <span><span><a href="../Type/index.html#type-t">Type.t</a> <a href="../HVar/index.html#type-t">HVar.t</a></span> list</span>;</code></td></tr><tr id="type-t.ty_pattern" class="anchored"><td class="def field"><a href="#type-t.ty_pattern" class="anchor"></a><code>ty_pattern : <a href="../Type/index.html#type-t">Type.t</a>;</code></td></tr><tr id="type-t.ty_constructors" class="anchored"><td class="def field"><a href="#type-t.ty_constructors" class="anchor"></a><code>ty_constructors : <span><a href="index.html#type-constructor">constructor</a> list</span>;</code></td></tr><tr id="type-t.ty_is_rec" class="anchored"><td class="def field"><a href="#type-t.ty_is_rec" class="anchor"></a><code>ty_is_rec : <span>bool lazy_t</span>;</code></td></tr><tr id="type-t.ty_proof" class="anchored"><td class="def field"><a href="#type-t.ty_proof" class="anchor"></a><code>ty_proof : <a href="../Proof/index.html#type-t">Proof.t</a>;</code></td></tr></table><code>}</code></dt><dd><p>An inductive type, along with its set of constructors</p></dd></dl><dl><dt class="spec value" id="val-pp"><a href="#val-pp" class="anchor"></a><code><span class="keyword">val</span> pp : <span><a href="index.html#type-t">t</a> CCFormat.printer</span></code></dt></dl><dl><dt class="spec exception" id="exception-InvalidDecl"><a href="#exception-InvalidDecl" class="anchor"></a><code><span class="keyword">exception</span> </code><code><span class="exception">InvalidDecl</span> <span class="keyword">of</span> string</code></dt><dt class="spec exception" id="exception-NotAnInductiveType"><a href="#exception-NotAnInductiveType" class="anchor"></a><code><span class="keyword">exception</span> </code><code><span class="exception">NotAnInductiveType</span> <span class="keyword">of</span> <a href="../ID/index.html#type-t">ID.t</a></code></dt><dt class="spec exception" id="exception-NotAnInductiveConstructor"><a href="#exception-NotAnInductiveConstructor" class="anchor"></a><code><span class="keyword">exception</span> </code><code><span class="exception">NotAnInductiveConstructor</span> <span class="keyword">of</span> <a href="../ID/index.html#type-t">ID.t</a></code></dt></dl><dl><dt class="spec value" id="val-declare_ty"><a href="#val-declare_ty" class="anchor"></a><code><span class="keyword">val</span> declare_ty : <a href="../ID/index.html#type-t">ID.t</a> <span>&#45;&gt;</span> <span>ty_vars:<span><span><a href="../Type/index.html#type-t">Type.t</a> <a href="../HVar/index.html#type-t">HVar.t</a></span> list</span></span> <span>&#45;&gt;</span> <span><a href="index.html#type-constructor">constructor</a> list</span> <span>&#45;&gt;</span> <span>proof:<a href="../Proof/index.html#type-t">Proof.t</a></span> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dd><p>Declare the given inductive type.</p><dl><dt>raises InvalidDecl</dt><dd><p>if the type is already declared, or the list of constructors is empty</p></dd></dl></dd></dl><dl><dt class="spec value" id="val-as_inductive_ty"><a href="#val-as_inductive_ty" class="anchor"></a><code><span class="keyword">val</span> as_inductive_ty : <a href="../ID/index.html#type-t">ID.t</a> <span>&#45;&gt;</span> <span><a href="index.html#type-t">t</a> option</span></code></dt><dt class="spec value" id="val-as_inductive_ty_exn"><a href="#val-as_inductive_ty_exn" class="anchor"></a><code><span class="keyword">val</span> as_inductive_ty_exn : <a href="../ID/index.html#type-t">ID.t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dd><p>Unsafe version of <a href="index.html#val-as_inductive_ty"><code>as_inductive_ty</code></a></p><dl><dt>raises NotAnInductiveType</dt><dd><p>if the ID is not an inductive type</p></dd></dl></dd></dl><dl><dt class="spec value" id="val-is_inductive_ty"><a href="#val-is_inductive_ty" class="anchor"></a><code><span class="keyword">val</span> is_inductive_ty : <a href="../ID/index.html#type-t">ID.t</a> <span>&#45;&gt;</span> bool</code></dt><dt class="spec value" id="val-as_inductive_type"><a href="#val-as_inductive_type" class="anchor"></a><code><span class="keyword">val</span> as_inductive_type : <a href="../Type/index.html#type-t">Type.t</a> <span>&#45;&gt;</span> <span><span>(<a href="index.html#type-t">t</a> * <span><a href="../Type/index.html#type-t">Type.t</a> list</span>)</span> option</span></code></dt><dd><p><code>as_inductive_ty (list int)</code> will return <code>list, [int]</code> as an inductive type applied to some arguments</p></dd></dl><dl><dt class="spec value" id="val-as_inductive_type_exn"><a href="#val-as_inductive_type_exn" class="anchor"></a><code><span class="keyword">val</span> as_inductive_type_exn : <a href="../Type/index.html#type-t">Type.t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> * <span><a href="../Type/index.html#type-t">Type.t</a> list</span></code></dt><dt class="spec value" id="val-is_inductive_type"><a href="#val-is_inductive_type" class="anchor"></a><code><span class="keyword">val</span> is_inductive_type : <a href="../Type/index.html#type-t">Type.t</a> <span>&#45;&gt;</span> bool</code></dt><dd><p><code>is_inductive_type ty</code> holds iff <code>ty</code> is an instance of some registered type (registered with <a href="index.html#val-declare_ty"><code>declare_ty</code></a>).</p></dd></dl><dl><dt class="spec value" id="val-is_inductive_simple_type"><a href="#val-is_inductive_simple_type" class="anchor"></a><code><span class="keyword">val</span> is_inductive_simple_type : <a href="../TypedSTerm/index.html#type-t">TypedSTerm.t</a> <span>&#45;&gt;</span> bool</code></dt><dt class="spec value" id="val-is_recursive"><a href="#val-is_recursive" class="anchor"></a><code><span class="keyword">val</span> is_recursive : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> bool</code></dt><dt class="spec value" id="val-proof"><a href="#val-proof" class="anchor"></a><code><span class="keyword">val</span> proof : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="../Proof/index.html#type-t">Proof.t</a></code></dt></dl></section><section><header><h6 id="constructors"><a href="#constructors" class="anchor"></a>Constructors</h6></header><dl><dt class="spec value" id="val-mk_constructor"><a href="#val-mk_constructor" class="anchor"></a><code><span class="keyword">val</span> mk_constructor : <a href="../ID/index.html#type-t">ID.t</a> <span>&#45;&gt;</span> <a href="../Type/index.html#type-t">Type.t</a> <span>&#45;&gt;</span> <span><span>(<a href="../Type/index.html#type-t">Type.t</a> * <span>(<a href="../ID/index.html#type-t">ID.t</a> * <a href="../Type/index.html#type-t">Type.t</a>)</span>)</span> list</span> <span>&#45;&gt;</span> <a href="index.html#type-constructor">constructor</a></code></dt><dt class="spec value" id="val-is_constructor"><a href="#val-is_constructor" class="anchor"></a><code><span class="keyword">val</span> is_constructor : <a href="../ID/index.html#type-t">ID.t</a> <span>&#45;&gt;</span> bool</code></dt><dd><p>true if the symbol is an inductive constructor (zero, successor...)</p></dd></dl><dl><dt class="spec value" id="val-as_constructor"><a href="#val-as_constructor" class="anchor"></a><code><span class="keyword">val</span> as_constructor : <a href="../ID/index.html#type-t">ID.t</a> <span>&#45;&gt;</span> <span><span>(<a href="index.html#type-constructor">constructor</a> * <a href="index.html#type-t">t</a>)</span> option</span></code></dt><dd><p>if <code>id</code> is a constructor of <code>ity</code>, then <code>as_constructor id</code> returns <code>Some (cstor, ity)</code></p></dd></dl><dl><dt class="spec value" id="val-as_constructor_exn"><a href="#val-as_constructor_exn" class="anchor"></a><code><span class="keyword">val</span> as_constructor_exn : <a href="../ID/index.html#type-t">ID.t</a> <span>&#45;&gt;</span> <a href="index.html#type-constructor">constructor</a> * <a href="index.html#type-t">t</a></code></dt><dd><p>Unsafe version of <a href="index.html#val-as_constructor"><code>as_constructor</code></a></p><dl><dt>raises NotAnInductiveConstructor</dt><dd><p>if it fails</p></dd></dl></dd></dl><dl><dt class="spec value" id="val-contains_inductive_types"><a href="#val-contains_inductive_types" class="anchor"></a><code><span class="keyword">val</span> contains_inductive_types : <a href="../Term/index.html#type-t">Term.t</a> <span>&#45;&gt;</span> bool</code></dt><dd><p><code>true</code> iff the term contains at least one subterm with an inductive type</p></dd></dl></section><section><header><h6 id="projectors"><a href="#projectors" class="anchor"></a>Projectors</h6></header><dl><dt class="spec value" id="val-projector_id"><a href="#val-projector_id" class="anchor"></a><code><span class="keyword">val</span> projector_id : <a href="index.html#type-projector">projector</a> <span>&#45;&gt;</span> <a href="../ID/index.html#type-t">ID.t</a></code></dt><dt class="spec value" id="val-projector_ty"><a href="#val-projector_ty" class="anchor"></a><code><span class="keyword">val</span> projector_ty : <a href="index.html#type-projector">projector</a> <span>&#45;&gt;</span> <a href="../Type/index.html#type-t">Type.t</a></code></dt><dt class="spec value" id="val-projector_idx"><a href="#val-projector_idx" class="anchor"></a><code><span class="keyword">val</span> projector_idx : <a href="index.html#type-projector">projector</a> <span>&#45;&gt;</span> int</code></dt><dt class="spec value" id="val-projector_cstor"><a href="#val-projector_cstor" class="anchor"></a><code><span class="keyword">val</span> projector_cstor : <a href="index.html#type-projector">projector</a> <span>&#45;&gt;</span> <a href="index.html#type-constructor">constructor</a></code></dt><dt class="spec value" id="val-as_projector"><a href="#val-as_projector" class="anchor"></a><code><span class="keyword">val</span> as_projector : <a href="../ID/index.html#type-t">ID.t</a> <span>&#45;&gt;</span> <span><a href="index.html#type-projector">projector</a> option</span></code></dt></dl></section></section></div></body></html>