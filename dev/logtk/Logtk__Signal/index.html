<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Logtk__Signal (logtk.Logtk__Signal)</title><link rel="stylesheet" href="../../odoc.css"/><meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="generator" content="doc-ock-html v1.0.0-1-g1fc9bf0"/></head><body><nav id="top"><a href="../index.html">Up</a> &mdash; <span class="package">package <a href="../index.html">logtk</a></span></nav><header><h1><span class="keyword">Module</span> <span class="module-path">Logtk__Signal</span></h1></header><h2>Basic signal for multiple-callbacks Observer</h2><p>A signal can be used to decouple the (unique) emitter of some event,
and (multiple) receivers for this event. The signal is typically
created by the emitter (in the same module), and exposed;
then, observers can register to the signal and be notified every
time an event (a value) is emitted through the signal.</p><div class="spec type" id="type-t"><a href="#type-t" class="anchor"></a><div class="def type"><code><span class="keyword">type </span>'a t</code><code></code><code></code></div><div class="doc"><p>Signal of type 'a</p></div></div><div class="spec val" id="val-create"><a href="#val-create" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>create : unit <span class="keyword">&#8209;&gt;</span> <span class="type-var">'a</span> <a href="index.html#type-t">t</a></code></div><div class="doc"><p>New signal</p></div></div><div class="spec val" id="val-send"><a href="#val-send" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>send : <span class="type-var">'a</span> <a href="index.html#type-t">t</a> <span class="keyword">&#8209;&gt;</span> <span class="type-var">'a</span> <span class="keyword">&#8209;&gt;</span> unit</code></div><div class="doc"><p>Trigger the signal</p></div></div><div class="spec type" id="type-handler_response"><a href="#type-handler_response" class="anchor"></a><div class="def type"><code><span class="keyword">type </span>handler_response</code><code></code><code><span class="keyword"> = </span></code><table class="variant"><tr id="type-handler_response.ContinueListening" class="anchored"><td class="def constructor"><a href="#type-handler_response.ContinueListening" class="anchor"></a><code><span class="keyword">| </span></code><code><span class="constructor">ContinueListening</span></code></td></tr><tr id="type-handler_response.StopListening" class="anchored"><td class="def constructor"><a href="#type-handler_response.StopListening" class="anchor"></a><code><span class="keyword">| </span></code><code><span class="constructor">StopListening</span></code></td></tr></table><code></code></div><div class="doc"></div></div><div class="spec val" id="val-on"><a href="#val-on" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>on : <span class="type-var">'a</span> <a href="index.html#type-t">t</a> <span class="keyword">&#8209;&gt;</span> (<span class="type-var">'a</span> <span class="keyword">&#8209;&gt;</span> <a href="index.html#type-handler_response">handler_response</a>) <span class="keyword">&#8209;&gt;</span> unit</code></div><div class="doc"><p>Register a handler to the signal; the handler returns <code class="code">true</code>
if it wants to continue being notified, <code class="code">false</code> otherwise</p></div></div><div class="spec val" id="val-on_every"><a href="#val-on_every" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>on_every : <span class="type-var">'a</span> <a href="index.html#type-t">t</a> <span class="keyword">&#8209;&gt;</span> (<span class="type-var">'a</span> <span class="keyword">&#8209;&gt;</span> <span class="type-var">_</span>) <span class="keyword">&#8209;&gt;</span> unit</code></div><div class="doc"><p><code class="code">on_every s f</code> calls <code class="code">f</code> on every event signalled on <code class="code">s</code></p></div></div><div class="spec val" id="val-once"><a href="#val-once" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>once : <span class="type-var">'a</span> <a href="index.html#type-t">t</a> <span class="keyword">&#8209;&gt;</span> (<span class="type-var">'a</span> <span class="keyword">&#8209;&gt;</span> <span class="type-var">'b</span>) <span class="keyword">&#8209;&gt;</span> unit</code></div><div class="doc"><p>Register a handler to be called only once</p></div></div><div class="spec val" id="val-propagate"><a href="#val-propagate" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>propagate : <span class="type-var">'a</span> <a href="index.html#type-t">t</a> <span class="keyword">&#8209;&gt;</span> <span class="type-var">'a</span> <a href="index.html#type-t">t</a> <span class="keyword">&#8209;&gt;</span> unit</code></div><div class="doc"><p><code class="code">propagate a b</code> propagates all values of <code class="code">a</code> into <code class="code">b</code>. Cycles
are not detected.</p></div></div><h3>Combinators</h3><div class="spec val" id="val-map"><a href="#val-map" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>map : <span class="type-var">'a</span> <a href="index.html#type-t">t</a> <span class="keyword">&#8209;&gt;</span> (<span class="type-var">'a</span> <span class="keyword">&#8209;&gt;</span> <span class="type-var">'b</span>) <span class="keyword">&#8209;&gt;</span> <span class="type-var">'b</span> <a href="index.html#type-t">t</a></code></div><div class="doc"></div></div><div class="spec val" id="val-filter"><a href="#val-filter" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>filter : <span class="type-var">'a</span> <a href="index.html#type-t">t</a> <span class="keyword">&#8209;&gt;</span> (<span class="type-var">'a</span> <span class="keyword">&#8209;&gt;</span> bool) <span class="keyword">&#8209;&gt;</span> <span class="type-var">'a</span> <a href="index.html#type-t">t</a></code></div><div class="doc"></div></div><div class="spec val" id="val-set_exn_handler"><a href="#val-set_exn_handler" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>set_exn_handler : (exn <span class="keyword">&#8209;&gt;</span> unit) <span class="keyword">&#8209;&gt;</span> unit</code></div><div class="doc"><p>Set the handler that is called upon an exception in
a Signal. The default handler does nothing.
If the handler raises an exception, it is not caught!</p></div></div></body></html>