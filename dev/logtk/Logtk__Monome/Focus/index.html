<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Focus (logtk.Logtk__Monome.Focus)</title><link rel="stylesheet" href="../../../odoc.css"/><meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="generator" content="doc-ock-html v1.0.0-1-g1fc9bf0"/></head><body><nav id="top"><a href="../index.html">Up</a> &mdash; <span class="package">package <a href="../../index.html">logtk</a></span></nav><header><h1><span class="keyword">Module</span> <span class="module-path">Logtk__Monome.Focus</span></h1></header><div class="doc"><p>Focus on a specific term</p></div><div class="spec type" id="type-t"><a href="#type-t" class="anchor"></a><div class="def type"><code><span class="keyword">type </span>'a t</code><code></code><code><span class="keyword"> = </span></code><code>{</code><table class="record"><tr id="type-t.term" class="anchored"><td class="def field"><a href="#type-t.term" class="anchor"></a><code>term : <a href="../index.html#type-term">term</a>;</code></td></tr><tr id="type-t.coeff" class="anchored"><td class="def field"><a href="#type-t.coeff" class="anchor"></a><code>coeff : <span class="type-var">'a</span>;</code></td><td class="doc"><p>(** Never 0 *)</p></td></tr><tr id="type-t.rest" class="anchored"><td class="def field"><a href="#type-t.rest" class="anchor"></a><code>rest : <span class="type-var">'a</span> <a href="../index.html#type-monome">monome</a>;</code></td></tr></table><code>}</code><code></code></div><div class="doc"></div></div><div class="spec val" id="val-get"><a href="#val-get" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>get : <span class="type-var">'a</span> <a href="../index.html#type-monome">monome</a> <span class="keyword">&#8209;&gt;</span> int <span class="keyword">&#8209;&gt;</span> <span class="type-var">'a</span> <a href="index.html#type-t">t</a></code></div><div class="doc"><ul class="at-tag"><li><span class="at-tag raise">Raises</span> <span class="module-path">Invalid_argument</span>: if the index is invalid</li></ul></div></div><div class="spec val" id="val-focus_term"><a href="#val-focus_term" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>focus_term : <span class="type-var">'a</span> <a href="../index.html#type-monome">monome</a> <span class="keyword">&#8209;&gt;</span> <a href="../index.html#type-term">term</a> <span class="keyword">&#8209;&gt;</span> <span class="type-var">'a</span> <a href="index.html#type-t">t</a> option</code></div><div class="doc"><p>Focus on the given term, if it is one of the members of
the given monome.</p></div></div><div class="spec val" id="val-focus_term_exn"><a href="#val-focus_term_exn" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>focus_term_exn : <span class="type-var">'a</span> <a href="../index.html#type-monome">monome</a> <span class="keyword">&#8209;&gt;</span> <a href="../index.html#type-term">term</a> <span class="keyword">&#8209;&gt;</span> <span class="type-var">'a</span> <a href="index.html#type-t">t</a></code></div><div class="doc"><p>Same as <a href="index.html#val-focus_term">focus_term</a>, but</p><ul class="at-tag"><li><span class="at-tag raise">Raises</span> <span class="module-path">Failure</span>: on failure</li></ul></div></div><div class="spec val" id="val-to_monome"><a href="#val-to_monome" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>to_monome : <span class="type-var">'a</span> <a href="index.html#type-t">t</a> <span class="keyword">&#8209;&gt;</span> <span class="type-var">'a</span> <a href="../index.html#type-monome">monome</a></code></div><div class="doc"><p>Conversion back to an unfocused monome</p></div></div><div class="spec val" id="val-coeff"><a href="#val-coeff" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>coeff : <span class="type-var">'a</span> <a href="index.html#type-t">t</a> <span class="keyword">&#8209;&gt;</span> <span class="type-var">'a</span></code></div><div class="doc"></div></div><div class="spec val" id="val-term"><a href="#val-term" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>term : <span class="type-var">'a</span> <a href="index.html#type-t">t</a> <span class="keyword">&#8209;&gt;</span> <a href="../index.html#type-term">term</a></code></div><div class="doc"></div></div><div class="spec val" id="val-rest"><a href="#val-rest" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>rest : <span class="type-var">'a</span> <a href="index.html#type-t">t</a> <span class="keyword">&#8209;&gt;</span> <span class="type-var">'a</span> <a href="../index.html#type-monome">monome</a></code></div><div class="doc"></div></div><div class="spec val" id="val-sum"><a href="#val-sum" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>sum : <span class="type-var">'a</span> <a href="index.html#type-t">t</a> <span class="keyword">&#8209;&gt;</span> <span class="type-var">'a</span> <a href="../index.html#type-monome">monome</a> <span class="keyword">&#8209;&gt;</span> <span class="type-var">'a</span> <a href="index.html#type-t">t</a></code></div><div class="doc"></div></div><div class="spec val" id="val-difference"><a href="#val-difference" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>difference : <span class="type-var">'a</span> <a href="index.html#type-t">t</a> <span class="keyword">&#8209;&gt;</span> <span class="type-var">'a</span> <a href="../index.html#type-monome">monome</a> <span class="keyword">&#8209;&gt;</span> <span class="type-var">'a</span> <a href="index.html#type-t">t</a></code></div><div class="doc"></div></div><div class="spec val" id="val-uminus"><a href="#val-uminus" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>uminus : <span class="type-var">'a</span> <a href="index.html#type-t">t</a> <span class="keyword">&#8209;&gt;</span> <span class="type-var">'a</span> <a href="index.html#type-t">t</a></code></div><div class="doc"></div></div><div class="spec val" id="val-product"><a href="#val-product" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>product : <span class="type-var">'a</span> <a href="index.html#type-t">t</a> <span class="keyword">&#8209;&gt;</span> <span class="type-var">'a</span> <span class="keyword">&#8209;&gt;</span> <span class="type-var">'a</span> <a href="index.html#type-t">t</a></code></div><div class="doc"><ul class="at-tag"><li><span class="at-tag raise">Raises</span> <span class="module-path">Invalid_argument</span>: if the number is 0</li></ul></div></div><div class="spec val" id="val-map"><a href="#val-map" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>map : ?&#8288;term:(<a href="../index.html#type-term">term</a> <span class="keyword">&#8209;&gt;</span> <a href="../index.html#type-term">term</a>) <span class="keyword">&#8209;&gt;</span> ?&#8288;coeff:(<span class="type-var">'a</span> <span class="keyword">&#8209;&gt;</span> <span class="type-var">'a</span>) <span class="keyword">&#8209;&gt;</span> ?&#8288;rest:(<span class="type-var">'a</span> <a href="../index.html#type-monome">monome</a> <span class="keyword">&#8209;&gt;</span> <span class="type-var">'a</span> <a href="../index.html#type-monome">monome</a>) <span class="keyword">&#8209;&gt;</span> <span class="type-var">'a</span> <a href="index.html#type-t">t</a> <span class="keyword">&#8209;&gt;</span> <span class="type-var">'a</span> <a href="index.html#type-t">t</a></code></div><div class="doc"></div></div><div class="spec val" id="val-scale"><a href="#val-scale" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>scale : <span class="type-var">'a</span> <a href="index.html#type-t">t</a> <span class="keyword">&#8209;&gt;</span> <span class="type-var">'a</span> <a href="index.html#type-t">t</a> <span class="keyword">&#8209;&gt;</span> <span class="type-var">'a</span> <a href="index.html#type-t">t</a><span class="keyword"> * </span><span class="type-var">'a</span> <a href="index.html#type-t">t</a></code></div><div class="doc"><p>Scale to the same coefficient</p></div></div><div class="spec val" id="val-is_max"><a href="#val-is_max" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>is_max : ord:<a href="../../Logtk/Ordering/index.html#type-t">Logtk.Ordering.t</a> <span class="keyword">&#8209;&gt;</span> <span class="type-var">_</span> <a href="index.html#type-t">t</a> <span class="keyword">&#8209;&gt;</span> bool</code></div><div class="doc"><p>Is the focused term maximal in the monome?</p></div></div><div class="spec val" id="val-fold_m"><a href="#val-fold_m" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>fold_m : pos:<a href="../../Logtk/Position/index.html#type-t">Logtk.Position.t</a> <span class="keyword">&#8209;&gt;</span> <span class="type-var">'a</span> <a href="../index.html#type-monome">monome</a> <span class="keyword">&#8209;&gt;</span> <span class="type-var">'b</span> <span class="keyword">&#8209;&gt;</span> (<span class="type-var">'b</span> <span class="keyword">&#8209;&gt;</span> <span class="type-var">'a</span> <a href="index.html#type-t">t</a> <span class="keyword">&#8209;&gt;</span> <a href="../../Logtk/Position/index.html#type-t">Logtk.Position.t</a> <span class="keyword">&#8209;&gt;</span> <span class="type-var">'b</span>) <span class="keyword">&#8209;&gt;</span> <span class="type-var">'b</span></code></div><div class="doc"><p>Fold on terms of the given monome, focusing on them one by one,
along with the position of the focused term</p></div></div><div class="spec val" id="val-apply_subst"><a href="#val-apply_subst" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>apply_subst : <a href="../../Logtk/Subst/Renaming/index.html#type-t">Logtk.Subst.Renaming.t</a> <span class="keyword">&#8209;&gt;</span> <a href="../../Logtk/Subst/index.html#type-t">Logtk.Subst.t</a> <span class="keyword">&#8209;&gt;</span> <span class="type-var">'a</span> <a href="index.html#type-t">t</a> <a href="../../Logtk/Scoped/index.html#type-t">Logtk.Scoped.t</a> <span class="keyword">&#8209;&gt;</span> <span class="type-var">'a</span> <a href="index.html#type-t">t</a></code></div><div class="doc"><p>Apply a substitution. This can modify the set of terms in <code class="code">rest</code>
because some of them may become equal to the focused term.</p></div></div><p>Here we don't unify full (focused) monomes together, but only the
focused part (and possibly some unfocused terms too) together.
For instance, unifying
<code class="code">f(x)* + 2a</code> and <code class="code">f(y)* + f(z) + b</code> (where focused terms are starred)
will yield both
<code class="code">(1,1,x=y)</code> and <code class="code">(1,2,x=y=z)</code> since <code class="code">f(z)</code> becomes focused too.</p><p>Again, arith constants are not unifiable with unshielded variables.</p><div class="spec val" id="val-unify_ff"><a href="#val-unify_ff" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>unify_ff : ?&#8288;subst:<a href="../../Logtk/Unif_subst/index.html#type-t">Logtk.Unif_subst.t</a> <span class="keyword">&#8209;&gt;</span> <span class="type-var">'a</span> <a href="index.html#type-t">t</a> <a href="../../Logtk/Scoped/index.html#type-t">Logtk.Scoped.t</a> <span class="keyword">&#8209;&gt;</span> <span class="type-var">'a</span> <a href="index.html#type-t">t</a> <a href="../../Logtk/Scoped/index.html#type-t">Logtk.Scoped.t</a> <span class="keyword">&#8209;&gt;</span> (<span class="type-var">'a</span> <a href="index.html#type-t">t</a><span class="keyword"> * </span><span class="type-var">'a</span> <a href="index.html#type-t">t</a><span class="keyword"> * </span><a href="../../Logtk/Unif_subst/index.html#type-t">Logtk.Unif_subst.t</a>) Sequence.t</code></div><div class="doc"><p>Unify two focused monomes. All returned unifiers are unifiers
of the focused terms, but maybe also of other unfocused terms;
Focused monomes are modified by unification because several terms
might merge with the focused term, so the new ones are
returned with the unifier itself</p></div></div><div class="spec val" id="val-unify_mm"><a href="#val-unify_mm" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>unify_mm : ?&#8288;subst:<a href="../../Logtk/Unif_subst/index.html#type-t">Logtk.Unif_subst.t</a> <span class="keyword">&#8209;&gt;</span> <span class="type-var">'a</span> <a href="../index.html#type-monome">monome</a> <a href="../../Logtk/Scoped/index.html#type-t">Logtk.Scoped.t</a> <span class="keyword">&#8209;&gt;</span> <span class="type-var">'a</span> <a href="../index.html#type-monome">monome</a> <a href="../../Logtk/Scoped/index.html#type-t">Logtk.Scoped.t</a> <span class="keyword">&#8209;&gt;</span> (<span class="type-var">'a</span> <a href="index.html#type-t">t</a><span class="keyword"> * </span><span class="type-var">'a</span> <a href="index.html#type-t">t</a><span class="keyword"> * </span><a href="../../Logtk/Unif_subst/index.html#type-t">Logtk.Unif_subst.t</a>) Sequence.t</code></div><div class="doc"><p>Unify parts of two monomes <code class="code">m1</code> and <code class="code">m2</code>. For each such unifier we
return the versions of <code class="code">m1</code> and <code class="code">m2</code> where the unified terms
are focused.</p></div></div><div class="spec val" id="val-unify_self"><a href="#val-unify_self" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>unify_self : ?&#8288;subst:<a href="../../Logtk/Unif_subst/index.html#type-t">Logtk.Unif_subst.t</a> <span class="keyword">&#8209;&gt;</span> <span class="type-var">'a</span> <a href="index.html#type-t">t</a> <a href="../../Logtk/Scoped/index.html#type-t">Logtk.Scoped.t</a> <span class="keyword">&#8209;&gt;</span> (<span class="type-var">'a</span> <a href="index.html#type-t">t</a><span class="keyword"> * </span><a href="../../Logtk/Unif_subst/index.html#type-t">Logtk.Unif_subst.t</a>) Sequence.t</code></div><div class="doc"><p>Extend the substitution to other terms within the focused monome,
if possible. For instance it might return
<code class="code">2f(x)+a, {x=y}</code> for the monome <code class="code">f(x)+f(y)+a</code> where <code class="code">f(x)</code> is focused.</p></div></div><div class="spec val" id="val-unify_self_monome"><a href="#val-unify_self_monome" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>unify_self_monome : ?&#8288;subst:<a href="../../Logtk/Unif_subst/index.html#type-t">Logtk.Unif_subst.t</a> <span class="keyword">&#8209;&gt;</span> <span class="type-var">'a</span> <a href="../index.html#type-monome">monome</a> <a href="../../Logtk/Scoped/index.html#type-t">Logtk.Scoped.t</a> <span class="keyword">&#8209;&gt;</span> (<span class="type-var">'a</span> <a href="index.html#type-t">t</a><span class="keyword"> * </span><a href="../../Logtk/Unif_subst/index.html#type-t">Logtk.Unif_subst.t</a>) Sequence.t</code></div><div class="doc"><p>Unify at least two terms of the monome together</p></div></div><div class="spec val" id="val-pp"><a href="#val-pp" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>pp : <span class="type-var">_</span> <a href="index.html#type-t">t</a> CCFormat.printer</code></div><div class="doc"></div></div></body></html>