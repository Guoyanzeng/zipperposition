<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Ind_ty (logtk.Logtk.Ind_ty)</title><link rel="stylesheet" href="../../../odoc.css"/><meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="generator" content="doc-ock-html v1.0.0-1-g1fc9bf0"/></head><body><nav id="top"><a href="../index.html">Up</a> &mdash; <span class="package">package <a href="../../index.html">logtk</a></span></nav><header><h1><span class="keyword">Module</span> <span class="module-path">Logtk.Ind_ty</span></h1></header><h2>Inductive Types</h2><p>An inductive datatype, defined by a list of constructors
(and associated projectors that are defined as partial functions).
Inductive types can be mutually recursive.</p><div class="spec val" id="val-section"><a href="#val-section" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>section : <a href="../Util/Section/index.html#type-t">Util.Section.t</a></code></div><div class="doc"></div></div><div class="spec type" id="type-constructor"><a href="#type-constructor" class="anchor"></a><div class="def type"><code><span class="keyword">type </span>constructor</code><code></code><code><span class="keyword"> = </span><span class="keyword">private </span></code><code>{</code><table class="record"><tr id="type-constructor.cstor_name" class="anchored"><td class="def field"><a href="#type-constructor.cstor_name" class="anchor"></a><code>cstor_name : <a href="../ID/index.html#type-t">ID.t</a>;</code></td></tr><tr id="type-constructor.cstor_ty" class="anchored"><td class="def field"><a href="#type-constructor.cstor_ty" class="anchor"></a><code>cstor_ty : <a href="../Type/index.html#type-t">Type.t</a>;</code></td></tr><tr id="type-constructor.cstor_args" class="anchored"><td class="def field"><a href="#type-constructor.cstor_args" class="anchor"></a><code>cstor_args : (<a href="../Type/index.html#type-t">Type.t</a><span class="keyword"> * </span><a href="index.html#type-projector">projector</a>) list;</code></td></tr></table><code>}</code><code></code></div><div class="doc"><p>Constructor for an inductive type</p></div></div><div class="spec type" id="type-projector"><a href="#type-projector" class="anchor"></a><div class="def type"><code><span class="keyword">type </span>projector</code><code></code><code><span class="keyword"> = </span><span class="keyword">private </span></code><code>{</code><table class="record"><tr id="type-projector.p_id" class="anchored"><td class="def field"><a href="#type-projector.p_id" class="anchor"></a><code>p_id : <a href="../ID/index.html#type-t">ID.t</a>;</code></td></tr><tr id="type-projector.p_ty" class="anchored"><td class="def field"><a href="#type-projector.p_ty" class="anchor"></a><code>p_ty : <a href="../Type/index.html#type-t">Type.t</a>;</code></td></tr><tr id="type-projector.p_index" class="anchored"><td class="def field"><a href="#type-projector.p_index" class="anchor"></a><code>p_index : int;</code></td></tr><tr id="type-projector.p_cstor" class="anchored"><td class="def field"><a href="#type-projector.p_cstor" class="anchor"></a><code>p_cstor : <a href="index.html#type-constructor">constructor</a> lazy_t;</code></td></tr></table><code>}</code><code></code></div><div class="doc"><p>A projector for a given constructor and argument position</p></div></div><div class="h7">Inductive Types</div><div class="spec type" id="type-t"><a href="#type-t" class="anchor"></a><div class="def type"><code><span class="keyword">type </span>t</code><code></code><code><span class="keyword"> = </span><span class="keyword">private </span></code><code>{</code><table class="record"><tr id="type-t.ty_id" class="anchored"><td class="def field"><a href="#type-t.ty_id" class="anchor"></a><code>ty_id : <a href="../ID/index.html#type-t">ID.t</a>;</code></td></tr><tr id="type-t.ty_vars" class="anchored"><td class="def field"><a href="#type-t.ty_vars" class="anchor"></a><code>ty_vars : <a href="../Type/index.html#type-t">Type.t</a> <a href="../HVar/index.html#type-t">HVar.t</a> list;</code></td></tr><tr id="type-t.ty_pattern" class="anchored"><td class="def field"><a href="#type-t.ty_pattern" class="anchor"></a><code>ty_pattern : <a href="../Type/index.html#type-t">Type.t</a>;</code></td></tr><tr id="type-t.ty_constructors" class="anchored"><td class="def field"><a href="#type-t.ty_constructors" class="anchor"></a><code>ty_constructors : <a href="index.html#type-constructor">constructor</a> list;</code></td></tr><tr id="type-t.ty_is_rec" class="anchored"><td class="def field"><a href="#type-t.ty_is_rec" class="anchor"></a><code>ty_is_rec : bool lazy_t;</code></td></tr><tr id="type-t.ty_proof" class="anchored"><td class="def field"><a href="#type-t.ty_proof" class="anchor"></a><code>ty_proof : <a href="../Proof/index.html#type-t">Proof.t</a>;</code></td></tr></table><code>}</code><code></code></div><div class="doc"><p>An inductive type, along with its set of constructors</p></div></div><div class="spec val" id="val-pp"><a href="#val-pp" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>pp : <a href="index.html#type-t">t</a> CCFormat.printer</code></div><div class="doc"></div></div><div class="spec exception" id="exception-InvalidDecl"><a href="#exception-InvalidDecl" class="anchor"></a><div class="def exception"><code><span class="keyword">exception </span></code><code><span class="exception">InvalidDecl</span><span class="keyword"> of </span>string</code></div><div class="doc"></div></div><div class="spec exception" id="exception-NotAnInductiveType"><a href="#exception-NotAnInductiveType" class="anchor"></a><div class="def exception"><code><span class="keyword">exception </span></code><code><span class="exception">NotAnInductiveType</span><span class="keyword"> of </span><a href="../ID/index.html#type-t">ID.t</a></code></div><div class="doc"></div></div><div class="spec exception" id="exception-NotAnInductiveConstructor"><a href="#exception-NotAnInductiveConstructor" class="anchor"></a><div class="def exception"><code><span class="keyword">exception </span></code><code><span class="exception">NotAnInductiveConstructor</span><span class="keyword"> of </span><a href="../ID/index.html#type-t">ID.t</a></code></div><div class="doc"></div></div><div class="spec val" id="val-declare_ty"><a href="#val-declare_ty" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>declare_ty : <a href="../ID/index.html#type-t">ID.t</a> <span class="keyword">&#8209;&gt;</span> ty_vars:<a href="../Type/index.html#type-t">Type.t</a> <a href="../HVar/index.html#type-t">HVar.t</a> list <span class="keyword">&#8209;&gt;</span> <a href="index.html#type-constructor">constructor</a> list <span class="keyword">&#8209;&gt;</span> proof:<a href="../Proof/index.html#type-t">Proof.t</a> <span class="keyword">&#8209;&gt;</span> <a href="index.html#type-t">t</a></code></div><div class="doc"><p>Declare the given inductive type.</p><ul class="at-tag"><li><span class="at-tag raise">Raises</span> <span class="module-path">InvalidDecl</span>: if the type is already declared, or the list
of constructors is empty</li></ul></div></div><div class="spec val" id="val-as_inductive_ty"><a href="#val-as_inductive_ty" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>as_inductive_ty : <a href="../ID/index.html#type-t">ID.t</a> <span class="keyword">&#8209;&gt;</span> <a href="index.html#type-t">t</a> option</code></div><div class="doc"></div></div><div class="spec val" id="val-as_inductive_ty_exn"><a href="#val-as_inductive_ty_exn" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>as_inductive_ty_exn : <a href="../ID/index.html#type-t">ID.t</a> <span class="keyword">&#8209;&gt;</span> <a href="index.html#type-t">t</a></code></div><div class="doc"><p>Unsafe version of <a href="index.html#val-as_inductive_ty">as_inductive_ty</a></p><ul class="at-tag"><li><span class="at-tag raise">Raises</span> <span class="module-path">NotAnInductiveType</span>: if the ID is not an inductive type</li></ul></div></div><div class="spec val" id="val-is_inductive_ty"><a href="#val-is_inductive_ty" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>is_inductive_ty : <a href="../ID/index.html#type-t">ID.t</a> <span class="keyword">&#8209;&gt;</span> bool</code></div><div class="doc"></div></div><div class="spec val" id="val-as_inductive_type"><a href="#val-as_inductive_type" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>as_inductive_type : <a href="../Type/index.html#type-t">Type.t</a> <span class="keyword">&#8209;&gt;</span> (<a href="index.html#type-t">t</a><span class="keyword"> * </span><a href="../Type/index.html#type-t">Type.t</a> list) option</code></div><div class="doc"><p><code class="code">as_inductive_ty (list int)</code> will return <code class="code">list, [int]</code> as an
inductive type applied to some arguments</p></div></div><div class="spec val" id="val-as_inductive_type_exn"><a href="#val-as_inductive_type_exn" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>as_inductive_type_exn : <a href="../Type/index.html#type-t">Type.t</a> <span class="keyword">&#8209;&gt;</span> <a href="index.html#type-t">t</a><span class="keyword"> * </span><a href="../Type/index.html#type-t">Type.t</a> list</code></div><div class="doc"></div></div><div class="spec val" id="val-is_inductive_type"><a href="#val-is_inductive_type" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>is_inductive_type : <a href="../Type/index.html#type-t">Type.t</a> <span class="keyword">&#8209;&gt;</span> bool</code></div><div class="doc"><p><code class="code">is_inductive_type ty</code> holds iff <code class="code">ty</code> is an instance of some
registered type (registered with <a href="index.html#val-declare_ty">declare_ty</a>).</p></div></div><div class="spec val" id="val-is_inductive_simple_type"><a href="#val-is_inductive_simple_type" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>is_inductive_simple_type : <a href="../TypedSTerm/index.html#type-t">TypedSTerm.t</a> <span class="keyword">&#8209;&gt;</span> bool</code></div><div class="doc"></div></div><div class="spec val" id="val-is_recursive"><a href="#val-is_recursive" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>is_recursive : <a href="index.html#type-t">t</a> <span class="keyword">&#8209;&gt;</span> bool</code></div><div class="doc"></div></div><div class="spec val" id="val-proof"><a href="#val-proof" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>proof : <a href="index.html#type-t">t</a> <span class="keyword">&#8209;&gt;</span> <a href="../Proof/index.html#type-t">Proof.t</a></code></div><div class="doc"></div></div><div class="h7">Constructors</div><div class="spec val" id="val-mk_constructor"><a href="#val-mk_constructor" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>mk_constructor : <a href="../ID/index.html#type-t">ID.t</a> <span class="keyword">&#8209;&gt;</span> <a href="../Type/index.html#type-t">Type.t</a> <span class="keyword">&#8209;&gt;</span> (<a href="../Type/index.html#type-t">Type.t</a><span class="keyword"> * </span>(<a href="../ID/index.html#type-t">ID.t</a><span class="keyword"> * </span><a href="../Type/index.html#type-t">Type.t</a>)) list <span class="keyword">&#8209;&gt;</span> <a href="index.html#type-constructor">constructor</a></code></div><div class="doc"></div></div><div class="spec val" id="val-is_constructor"><a href="#val-is_constructor" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>is_constructor : <a href="../ID/index.html#type-t">ID.t</a> <span class="keyword">&#8209;&gt;</span> bool</code></div><div class="doc"><p>true if the symbol is an inductive constructor (zero, successor...)</p></div></div><div class="spec val" id="val-as_constructor"><a href="#val-as_constructor" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>as_constructor : <a href="../ID/index.html#type-t">ID.t</a> <span class="keyword">&#8209;&gt;</span> (<a href="index.html#type-constructor">constructor</a><span class="keyword"> * </span><a href="index.html#type-t">t</a>) option</code></div><div class="doc"><p>if <code class="code">id</code> is a constructor of <code class="code">ity</code>, then <code class="code">as_constructor id</code>
returns <code class="code">Some (cstor, ity)</code></p></div></div><div class="spec val" id="val-as_constructor_exn"><a href="#val-as_constructor_exn" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>as_constructor_exn : <a href="../ID/index.html#type-t">ID.t</a> <span class="keyword">&#8209;&gt;</span> <a href="index.html#type-constructor">constructor</a><span class="keyword"> * </span><a href="index.html#type-t">t</a></code></div><div class="doc"><p>Unsafe version of <a href="index.html#val-as_constructor">as_constructor</a></p><ul class="at-tag"><li><span class="at-tag raise">Raises</span> <span class="module-path">NotAnInductiveConstructor</span>: if it fails</li></ul></div></div><div class="spec val" id="val-contains_inductive_types"><a href="#val-contains_inductive_types" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>contains_inductive_types : <a href="../Term/index.html#type-t">Term.t</a> <span class="keyword">&#8209;&gt;</span> bool</code></div><div class="doc"><p><code class="code">true</code> iff the term contains at least one subterm with
an inductive type</p></div></div><div class="h7">Projectors</div><div class="spec val" id="val-projector_id"><a href="#val-projector_id" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>projector_id : <a href="index.html#type-projector">projector</a> <span class="keyword">&#8209;&gt;</span> <a href="../ID/index.html#type-t">ID.t</a></code></div><div class="doc"></div></div><div class="spec val" id="val-projector_ty"><a href="#val-projector_ty" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>projector_ty : <a href="index.html#type-projector">projector</a> <span class="keyword">&#8209;&gt;</span> <a href="../Type/index.html#type-t">Type.t</a></code></div><div class="doc"></div></div><div class="spec val" id="val-projector_idx"><a href="#val-projector_idx" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>projector_idx : <a href="index.html#type-projector">projector</a> <span class="keyword">&#8209;&gt;</span> int</code></div><div class="doc"></div></div><div class="spec val" id="val-projector_cstor"><a href="#val-projector_cstor" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>projector_cstor : <a href="index.html#type-projector">projector</a> <span class="keyword">&#8209;&gt;</span> <a href="index.html#type-constructor">constructor</a></code></div><div class="doc"></div></div><div class="spec val" id="val-as_projector"><a href="#val-as_projector" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>as_projector : <a href="../ID/index.html#type-t">ID.t</a> <span class="keyword">&#8209;&gt;</span> <a href="index.html#type-projector">projector</a> option</code></div><div class="doc"></div></div></body></html>