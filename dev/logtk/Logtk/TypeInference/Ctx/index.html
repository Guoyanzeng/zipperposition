<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Ctx (logtk.Logtk.TypeInference.Ctx)</title><link rel="stylesheet" href="../../../../odoc.css"/><meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="generator" content="doc-ock-html v1.0.0-1-g1fc9bf0"/></head><body><nav id="top"><a href="../index.html">Up</a> &mdash; <span class="package">package <a href="../../../index.html">logtk</a></span></nav><header><h1><span class="keyword">Module</span> <span class="module-path">Logtk.TypeInference.Ctx</span></h1></header><div class="spec type" id="type-t"><a href="#type-t" class="anchor"></a><div class="def type"><code><span class="keyword">type </span>t</code><code></code><code></code></div><div class="doc"></div></div><div class="spec val" id="val-create"><a href="#val-create" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>create : ?&#8288;def_as_rewrite:bool <span class="keyword">&#8209;&gt;</span> ?&#8288;default:<a href="../index.html#type-type_">type_</a> <span class="keyword">&#8209;&gt;</span> ?&#8288;on_var:[ `Default | `Infer ] <span class="keyword">&#8209;&gt;</span> ?&#8288;on_undef:[ `Warn | `Fail | `Guess ] <span class="keyword">&#8209;&gt;</span> ?&#8288;on_shadow:[ `Warn | `Ignore ] <span class="keyword">&#8209;&gt;</span> implicit_ty_args:bool <span class="keyword">&#8209;&gt;</span> unit <span class="keyword">&#8209;&gt;</span> <a href="index.html#type-t">t</a></code></div><div class="doc"><p>New context with a signature and default types.</p><ul class="at-tag"><li><span class="at-tag parameter">Parameter</span> <span class="module-path">default</span>: which types are inferred by default (if not provided
then type_erm will be used)</li><li><span class="at-tag parameter">Parameter</span> <span class="module-path">def_as_rewrite</span>: if true, definitions will be treated like rewrite rules</li><li><span class="at-tag parameter">Parameter</span> <span class="module-path">on_undef</span>: behavior when an undefined identifier is met</li><li><span class="at-tag parameter">Parameter</span> <span class="module-path">on_var</span>: behavior when a variable without type annotation is met</li></ul></div></div><div class="spec val" id="val-copy"><a href="#val-copy" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>copy : <a href="index.html#type-t">t</a> <span class="keyword">&#8209;&gt;</span> <a href="index.html#type-t">t</a></code></div><div class="doc"><p>Copy of the context</p></div></div><div class="spec val" id="val-exit_scope"><a href="#val-exit_scope" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>exit_scope : <a href="index.html#type-t">t</a> <span class="keyword">&#8209;&gt;</span> unit</code></div><div class="doc"><p>Exit the current scope (formula, clause), meaning that all free
variables' types are forgotten.
Some free variables are bound to the <code class="code">default</code> type provided
at creation of the context.
Some ree variables will be generalized, i.e., kept as (free) variables</p></div></div><div class="spec val" id="val-declare"><a href="#val-declare" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>declare : ?&#8288;loc:<a href="../index.html#type-loc">loc</a> <span class="keyword">&#8209;&gt;</span> <a href="index.html#type-t">t</a> <span class="keyword">&#8209;&gt;</span> <a href="../../ID/index.html#type-t">ID.t</a> <span class="keyword">&#8209;&gt;</span> <a href="../index.html#type-type_">type_</a> <span class="keyword">&#8209;&gt;</span> unit</code></div><div class="doc"><p>Declare the type of a symbol, possibly shadowing a previous version</p></div></div><div class="spec val" id="val-pop_new_types"><a href="#val-pop_new_types" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>pop_new_types : <a href="index.html#type-t">t</a> <span class="keyword">&#8209;&gt;</span> (<a href="../../ID/index.html#type-t">ID.t</a><span class="keyword"> * </span><a href="../index.html#type-type_">type_</a>) list</code></div><div class="doc"><p>Obtain the list of symbols whose type has been inferred recently,
and reset it.</p></div></div></body></html>