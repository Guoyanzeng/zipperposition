<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>UntypedAST (logtk.Logtk.UntypedAST)</title><link rel="stylesheet" href="../../../odoc.css"/><meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="generator" content="doc-ock-html v1.0.0-1-g1fc9bf0"/></head><body><nav id="top"><a href="../index.html">Up</a> &mdash; <span class="package">package <a href="../../index.html">logtk</a></span></nav><header><h1><span class="keyword">Module</span> <span class="module-path">Logtk.UntypedAST</span></h1></header><h2>Main AST before Typing</h2><p>Parsers eventually output this AST, that uses simple terms (<a href="../STerm/index.html">STerm</a>)
for types, terms, and formulas.</p><p>Everything is possibly annotated with a parse location so that
error messages can be properly localized.</p><div class="spec module" id="module-Loc"><a href="#module-Loc" class="anchor"></a><div class="def module"><code><span class="keyword">module </span>Loc = <a href="../index.html#module-ParseLocation">ParseLocation</a></code></div><div class="doc"></div></div><div class="spec module" id="module-T"><a href="#module-T" class="anchor"></a><div class="def module"><code><span class="keyword">module </span>T = <a href="../index.html#module-STerm">STerm</a></code></div><div class="doc"></div></div><div class="spec type" id="type-term"><a href="#type-term" class="anchor"></a><div class="def type"><code><span class="keyword">type </span>term</code><code><span class="keyword"> = </span><a href="../STerm/index.html#type-t">T.t</a></code><code></code></div><div class="doc"></div></div><div class="spec type" id="type-ty"><a href="#type-ty" class="anchor"></a><div class="def type"><code><span class="keyword">type </span>ty</code><code><span class="keyword"> = </span><a href="../STerm/index.html#type-t">T.t</a></code><code></code></div><div class="doc"></div></div><div class="spec type" id="type-form"><a href="#type-form" class="anchor"></a><div class="def type"><code><span class="keyword">type </span>form</code><code><span class="keyword"> = </span><a href="../STerm/index.html#type-t">T.t</a></code><code></code></div><div class="doc"></div></div><div class="spec type" id="type-data"><a href="#type-data" class="anchor"></a><div class="def type"><code><span class="keyword">type </span>data</code><code></code><code><span class="keyword"> = </span></code><code>{</code><table class="record"><tr id="type-data.data_name" class="anchored"><td class="def field"><a href="#type-data.data_name" class="anchor"></a><code>data_name : string;</code></td></tr><tr id="type-data.data_vars" class="anchored"><td class="def field"><a href="#type-data.data_vars" class="anchor"></a><code>data_vars : string list;</code></td></tr><tr id="type-data.data_cstors" class="anchored"><td class="def field"><a href="#type-data.data_cstors" class="anchor"></a><code>data_cstors : (string<span class="keyword"> * </span>(string option<span class="keyword"> * </span><a href="index.html#type-ty">ty</a>) list) list;</code></td></tr></table><code>}</code><code></code></div><div class="doc"><p>Basic definition of inductive types</p></div></div><div class="spec type" id="type-attr"><a href="#type-attr" class="anchor"></a><div class="def type"><code><span class="keyword">type </span>attr</code><code></code><code><span class="keyword"> = </span></code><table class="variant"><tr id="type-attr.A_app" class="anchored"><td class="def constructor"><a href="#type-attr.A_app" class="anchor"></a><code><span class="keyword">| </span></code><code><span class="constructor">A_app</span><span class="keyword"> of </span>string<span class="keyword"> * </span><a href="index.html#type-attr">attr</a> list</code></td></tr><tr id="type-attr.A_quoted" class="anchored"><td class="def constructor"><a href="#type-attr.A_quoted" class="anchor"></a><code><span class="keyword">| </span></code><code><span class="constructor">A_quoted</span><span class="keyword"> of </span>string</code></td></tr><tr id="type-attr.A_list" class="anchored"><td class="def constructor"><a href="#type-attr.A_list" class="anchor"></a><code><span class="keyword">| </span></code><code><span class="constructor">A_list</span><span class="keyword"> of </span><a href="index.html#type-attr">attr</a> list</code></td></tr></table><code></code></div><div class="doc"><p>Attributes (general terms)</p></div></div><div class="spec type" id="type-attrs"><a href="#type-attrs" class="anchor"></a><div class="def type"><code><span class="keyword">type </span>attrs</code><code><span class="keyword"> = </span><a href="index.html#type-attr">attr</a> list</code><code></code></div><div class="doc"></div></div><div class="spec type" id="type-def"><a href="#type-def" class="anchor"></a><div class="def type"><code><span class="keyword">type </span>def</code><code></code><code><span class="keyword"> = </span></code><code>{</code><table class="record"><tr id="type-def.def_id" class="anchored"><td class="def field"><a href="#type-def.def_id" class="anchor"></a><code>def_id : string;</code></td></tr><tr id="type-def.def_ty" class="anchored"><td class="def field"><a href="#type-def.def_ty" class="anchor"></a><code>def_ty : <a href="index.html#type-ty">ty</a>;</code></td></tr><tr id="type-def.def_rules" class="anchored"><td class="def field"><a href="#type-def.def_rules" class="anchor"></a><code>def_rules : <a href="index.html#type-term">term</a> list;</code></td></tr></table><code>}</code><code></code></div><div class="doc"></div></div><div class="spec type" id="type-statement_view"><a href="#type-statement_view" class="anchor"></a><div class="def type"><code><span class="keyword">type </span>statement_view</code><code></code><code><span class="keyword"> = </span></code><table class="variant"><tr id="type-statement_view.Include" class="anchored"><td class="def constructor"><a href="#type-statement_view.Include" class="anchor"></a><code><span class="keyword">| </span></code><code><span class="constructor">Include</span><span class="keyword"> of </span>string</code></td></tr><tr id="type-statement_view.Decl" class="anchored"><td class="def constructor"><a href="#type-statement_view.Decl" class="anchor"></a><code><span class="keyword">| </span></code><code><span class="constructor">Decl</span><span class="keyword"> of </span>string<span class="keyword"> * </span><a href="index.html#type-ty">ty</a></code></td></tr><tr id="type-statement_view.Def" class="anchored"><td class="def constructor"><a href="#type-statement_view.Def" class="anchor"></a><code><span class="keyword">| </span></code><code><span class="constructor">Def</span><span class="keyword"> of </span><a href="index.html#type-def">def</a> list</code></td></tr><tr id="type-statement_view.Rewrite" class="anchored"><td class="def constructor"><a href="#type-statement_view.Rewrite" class="anchor"></a><code><span class="keyword">| </span></code><code><span class="constructor">Rewrite</span><span class="keyword"> of </span><a href="index.html#type-term">term</a></code></td></tr><tr id="type-statement_view.Data" class="anchored"><td class="def constructor"><a href="#type-statement_view.Data" class="anchor"></a><code><span class="keyword">| </span></code><code><span class="constructor">Data</span><span class="keyword"> of </span><a href="index.html#type-data">data</a> list</code></td></tr><tr id="type-statement_view.Assert" class="anchored"><td class="def constructor"><a href="#type-statement_view.Assert" class="anchor"></a><code><span class="keyword">| </span></code><code><span class="constructor">Assert</span><span class="keyword"> of </span><a href="index.html#type-form">form</a></code></td></tr><tr id="type-statement_view.Lemma" class="anchored"><td class="def constructor"><a href="#type-statement_view.Lemma" class="anchor"></a><code><span class="keyword">| </span></code><code><span class="constructor">Lemma</span><span class="keyword"> of </span><a href="index.html#type-form">form</a></code></td></tr><tr id="type-statement_view.Goal" class="anchored"><td class="def constructor"><a href="#type-statement_view.Goal" class="anchor"></a><code><span class="keyword">| </span></code><code><span class="constructor">Goal</span><span class="keyword"> of </span><a href="index.html#type-form">form</a></code></td></tr></table><code></code></div><div class="doc"><p>Statement</p></div></div><div class="spec type" id="type-statement"><a href="#type-statement" class="anchor"></a><div class="def type"><code><span class="keyword">type </span>statement</code><code></code><code><span class="keyword"> = </span></code><code>{</code><table class="record"><tr id="type-statement.stmt" class="anchored"><td class="def field"><a href="#type-statement.stmt" class="anchor"></a><code>stmt : <a href="index.html#type-statement_view">statement_view</a>;</code></td></tr><tr id="type-statement.attrs" class="anchored"><td class="def field"><a href="#type-statement.attrs" class="anchor"></a><code>attrs : <a href="index.html#type-attrs">attrs</a>;</code></td></tr><tr id="type-statement.loc" class="anchored"><td class="def field"><a href="#type-statement.loc" class="anchor"></a><code>loc : <a href="../ParseLocation/index.html#type-t">Loc.t</a> option;</code></td></tr></table><code>}</code><code></code></div><div class="doc"></div></div><div class="spec val" id="val-default_attrs"><a href="#val-default_attrs" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>default_attrs : <a href="index.html#type-attrs">attrs</a></code></div><div class="doc"></div></div><div class="spec val" id="val-mk_def"><a href="#val-mk_def" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>mk_def : string <span class="keyword">&#8209;&gt;</span> <a href="index.html#type-ty">ty</a> <span class="keyword">&#8209;&gt;</span> <a href="index.html#type-term">term</a> list <span class="keyword">&#8209;&gt;</span> <a href="index.html#type-def">def</a></code></div><div class="doc"></div></div><div class="spec val" id="val-include_"><a href="#val-include_" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>include_ : ?&#8288;loc:<a href="../ParseLocation/index.html#type-t">Loc.t</a> <span class="keyword">&#8209;&gt;</span> ?&#8288;attrs:<a href="index.html#type-attrs">attrs</a> <span class="keyword">&#8209;&gt;</span> string <span class="keyword">&#8209;&gt;</span> <a href="index.html#type-statement">statement</a></code></div><div class="doc"></div></div><div class="spec val" id="val-decl"><a href="#val-decl" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>decl : ?&#8288;loc:<a href="../ParseLocation/index.html#type-t">Loc.t</a> <span class="keyword">&#8209;&gt;</span> ?&#8288;attrs:<a href="index.html#type-attrs">attrs</a> <span class="keyword">&#8209;&gt;</span> string <span class="keyword">&#8209;&gt;</span> <a href="index.html#type-ty">ty</a> <span class="keyword">&#8209;&gt;</span> <a href="index.html#type-statement">statement</a></code></div><div class="doc"></div></div><div class="spec val" id="val-def"><a href="#val-def" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>def : ?&#8288;loc:<a href="../ParseLocation/index.html#type-t">Loc.t</a> <span class="keyword">&#8209;&gt;</span> ?&#8288;attrs:<a href="index.html#type-attrs">attrs</a> <span class="keyword">&#8209;&gt;</span> <a href="index.html#type-def">def</a> list <span class="keyword">&#8209;&gt;</span> <a href="index.html#type-statement">statement</a></code></div><div class="doc"></div></div><div class="spec val" id="val-data"><a href="#val-data" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>data : ?&#8288;loc:<a href="../ParseLocation/index.html#type-t">Loc.t</a> <span class="keyword">&#8209;&gt;</span> ?&#8288;attrs:<a href="index.html#type-attrs">attrs</a> <span class="keyword">&#8209;&gt;</span> <a href="index.html#type-data">data</a> list <span class="keyword">&#8209;&gt;</span> <a href="index.html#type-statement">statement</a></code></div><div class="doc"></div></div><div class="spec val" id="val-rewrite"><a href="#val-rewrite" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>rewrite : ?&#8288;loc:<a href="../ParseLocation/index.html#type-t">Loc.t</a> <span class="keyword">&#8209;&gt;</span> ?&#8288;attrs:<a href="index.html#type-attrs">attrs</a> <span class="keyword">&#8209;&gt;</span> <a href="index.html#type-term">term</a> <span class="keyword">&#8209;&gt;</span> <a href="index.html#type-statement">statement</a></code></div><div class="doc"></div></div><div class="spec val" id="val-assert_"><a href="#val-assert_" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>assert_ : ?&#8288;loc:<a href="../ParseLocation/index.html#type-t">Loc.t</a> <span class="keyword">&#8209;&gt;</span> ?&#8288;attrs:<a href="index.html#type-attrs">attrs</a> <span class="keyword">&#8209;&gt;</span> <a href="index.html#type-term">term</a> <span class="keyword">&#8209;&gt;</span> <a href="index.html#type-statement">statement</a></code></div><div class="doc"></div></div><div class="spec val" id="val-lemma"><a href="#val-lemma" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>lemma : ?&#8288;loc:<a href="../ParseLocation/index.html#type-t">Loc.t</a> <span class="keyword">&#8209;&gt;</span> ?&#8288;attrs:<a href="index.html#type-attrs">attrs</a> <span class="keyword">&#8209;&gt;</span> <a href="index.html#type-term">term</a> <span class="keyword">&#8209;&gt;</span> <a href="index.html#type-statement">statement</a></code></div><div class="doc"></div></div><div class="spec val" id="val-goal"><a href="#val-goal" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>goal : ?&#8288;loc:<a href="../ParseLocation/index.html#type-t">Loc.t</a> <span class="keyword">&#8209;&gt;</span> ?&#8288;attrs:<a href="index.html#type-attrs">attrs</a> <span class="keyword">&#8209;&gt;</span> <a href="index.html#type-term">term</a> <span class="keyword">&#8209;&gt;</span> <a href="index.html#type-statement">statement</a></code></div><div class="doc"></div></div><div class="spec val" id="val-name_of_attrs"><a href="#val-name_of_attrs" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>name_of_attrs : <a href="index.html#type-attrs">attrs</a> <span class="keyword">&#8209;&gt;</span> string option</code></div><div class="doc"></div></div><div class="spec val" id="val-name"><a href="#val-name" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>name : <a href="index.html#type-statement">statement</a> <span class="keyword">&#8209;&gt;</span> string option</code></div><div class="doc"></div></div><div class="spec module" id="module-A"><a href="#module-A" class="anchor"></a><div class="def module"><code><span class="keyword">module </span><a href="A/index.html">A</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></div><div class="doc"></div></div><div class="spec val" id="val-attr_name"><a href="#val-attr_name" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>attr_name : string <span class="keyword">&#8209;&gt;</span> <a href="index.html#type-attr">attr</a></code></div><div class="doc"></div></div><div class="spec val" id="val-attr_ac"><a href="#val-attr_ac" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>attr_ac : <a href="index.html#type-attr">attr</a></code></div><div class="doc"></div></div><div class="spec val" id="val-attr_prefix"><a href="#val-attr_prefix" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>attr_prefix : string <span class="keyword">&#8209;&gt;</span> <a href="index.html#type-attr">attr</a></code></div><div class="doc"></div></div><div class="spec val" id="val-attr_infix"><a href="#val-attr_infix" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>attr_infix : string <span class="keyword">&#8209;&gt;</span> <a href="index.html#type-attr">attr</a></code></div><div class="doc"></div></div><div class="spec val" id="val-pp_attr"><a href="#val-pp_attr" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>pp_attr : <a href="index.html#type-attr">attr</a> CCFormat.printer</code></div><div class="doc"></div></div><div class="spec val" id="val-pp_attrs"><a href="#val-pp_attrs" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>pp_attrs : <a href="index.html#type-attrs">attrs</a> CCFormat.printer</code></div><div class="doc"></div></div><div class="spec val" id="val-pp_attr_zf"><a href="#val-pp_attr_zf" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>pp_attr_zf : <a href="index.html#type-attr">attr</a> CCFormat.printer</code></div><div class="doc"></div></div><div class="spec val" id="val-pp_attrs_zf"><a href="#val-pp_attrs_zf" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>pp_attrs_zf : <a href="index.html#type-attrs">attrs</a> CCFormat.printer</code></div><div class="doc"></div></div><div class="spec val" id="val-pp_attr_tstp"><a href="#val-pp_attr_tstp" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>pp_attr_tstp : <a href="index.html#type-attr">attr</a> CCFormat.printer</code></div><div class="doc"><p>Print as a TPTP general_term</p></div></div><div class="spec val" id="val-pp_statement"><a href="#val-pp_statement" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>pp_statement : <a href="index.html#type-statement">statement</a> CCFormat.printer</code></div><div class="doc"></div></div><h3>Errors</h3><div class="spec exception" id="exception-Parse_error"><a href="#exception-Parse_error" class="anchor"></a><div class="def exception"><code><span class="keyword">exception </span></code><code><span class="exception">Parse_error</span><span class="keyword"> of </span><a href="../ParseLocation/index.html#type-t">Loc.t</a><span class="keyword"> * </span>string</code></div><div class="doc"></div></div><div class="spec val" id="val-error"><a href="#val-error" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>error : <a href="../ParseLocation/index.html#type-t">Loc.t</a> <span class="keyword">&#8209;&gt;</span> string <span class="keyword">&#8209;&gt;</span> <span class="type-var">'a</span></code></div><div class="doc"></div></div><div class="spec val" id="val-errorf"><a href="#val-errorf" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>errorf : <a href="../ParseLocation/index.html#type-t">Loc.t</a> <span class="keyword">&#8209;&gt;</span> (<span class="type-var">'a</span>, Format.formatter, unit, <span class="type-var">'b</span>) Pervasives.format4 <span class="keyword">&#8209;&gt;</span> <span class="type-var">'a</span></code></div><div class="doc"></div></div></body></html>