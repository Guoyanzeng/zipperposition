<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Logtk__Term (logtk.Logtk__Term)</title><link rel="stylesheet" href="../../odoc.css"/><meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="generator" content="doc-ock-html v1.0.0-1-g1fc9bf0"/></head><body><nav id="top"><a href="../index.html">Up</a> &mdash; <span class="package">package <a href="../index.html">logtk</a></span></nav><header><h1><span class="keyword">Module</span> <span class="module-path">Logtk__Term</span></h1></header><h2>Lambda-free Terms</h2><p>Those terms provide a first-order presentation of higher-order terms (without
functions), in the sense that they make currying possible (as well as applying
functions to other terms).</p><p>This is as if terms had an `apply` symbol everywhere, but more lightweight.</p><p>Types and terms are mixed because it makes application much easier
(applying to a type and to a term are the same thing).
It might also make dependent typing possible some day.</p><h3>Term</h3><div class="spec type" id="type-t"><a href="#type-t" class="anchor"></a><div class="def type"><code><span class="keyword">type </span>t</code><code><span class="keyword"> = </span><span class="keyword">private </span><a href="../Logtk/InnerTerm/index.html#type-t">Logtk.InnerTerm.t</a></code><code></code></div><div class="doc"></div></div><div class="spec type" id="type-term"><a href="#type-term" class="anchor"></a><div class="def type"><code><span class="keyword">type </span>term</code><code><span class="keyword"> = </span><a href="index.html#type-t">t</a></code><code></code></div><div class="doc"></div></div><div class="spec type" id="type-var"><a href="#type-var" class="anchor"></a><div class="def type"><code><span class="keyword">type </span>var</code><code><span class="keyword"> = </span><a href="../Logtk/Type/index.html#type-t">Logtk.Type.t</a> <a href="../Logtk/HVar/index.html#type-t">Logtk.HVar.t</a></code><code></code></div><div class="doc"><p>Variables are typed with <span class="xref-unresolved" title="unresolved reference to &quot;Type.t&quot;">Type.t</span></p></div></div><div class="spec type" id="type-view"><a href="#type-view" class="anchor"></a><div class="def type"><code><span class="keyword">type </span>view</code><code></code><code><span class="keyword"> = </span><span class="keyword">private </span></code><table class="variant"><tr id="type-view.AppBuiltin" class="anchored"><td class="def constructor"><a href="#type-view.AppBuiltin" class="anchor"></a><code><span class="keyword">| </span></code><code><span class="constructor">AppBuiltin</span><span class="keyword"> of </span><a href="../Logtk/Builtin/index.html#type-t">Logtk.Builtin.t</a><span class="keyword"> * </span><a href="index.html#type-t">t</a> list</code></td></tr><tr id="type-view.DB" class="anchored"><td class="def constructor"><a href="#type-view.DB" class="anchor"></a><code><span class="keyword">| </span></code><code><span class="constructor">DB</span><span class="keyword"> of </span>int</code></td><td class="doc"><p>(** Bound variable (De Bruijn index) *)</p></td></tr><tr id="type-view.Var" class="anchored"><td class="def constructor"><a href="#type-view.Var" class="anchor"></a><code><span class="keyword">| </span></code><code><span class="constructor">Var</span><span class="keyword"> of </span><a href="index.html#type-var">var</a></code></td><td class="doc"><p>(** Term variable *)</p></td></tr><tr id="type-view.Const" class="anchored"><td class="def constructor"><a href="#type-view.Const" class="anchor"></a><code><span class="keyword">| </span></code><code><span class="constructor">Const</span><span class="keyword"> of </span><a href="../Logtk/ID/index.html#type-t">Logtk.ID.t</a></code></td><td class="doc"><p>(** Typed constant *)</p></td></tr><tr id="type-view.App" class="anchored"><td class="def constructor"><a href="#type-view.App" class="anchor"></a><code><span class="keyword">| </span></code><code><span class="constructor">App</span><span class="keyword"> of </span><a href="index.html#type-t">t</a><span class="keyword"> * </span><a href="index.html#type-t">t</a> list</code></td><td class="doc"><p>(** Application to a list of terms (cannot be left-nested) *)</p></td></tr><tr id="type-view.Fun" class="anchored"><td class="def constructor"><a href="#type-view.Fun" class="anchor"></a><code><span class="keyword">| </span></code><code><span class="constructor">Fun</span><span class="keyword"> of </span><a href="../Logtk/Type/index.html#type-t">Logtk.Type.t</a><span class="keyword"> * </span><a href="index.html#type-t">t</a></code></td><td class="doc"><p>(** Lambda abstraction *)</p></td></tr></table><code></code></div><div class="doc"></div></div><div class="spec val" id="val-view"><a href="#val-view" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>view : <a href="index.html#type-t">t</a> <span class="keyword">&#8209;&gt;</span> <a href="index.html#type-view">view</a></code></div><div class="doc"></div></div><div class="spec module" id="module-Classic"><a href="#module-Classic" class="anchor"></a><div class="def module"><code><span class="keyword">module </span><a href="Classic/index.html">Classic</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></div><div class="doc"><h3>Classic view</h3></div></div><div class="spec val" id="val-subterm"><a href="#val-subterm" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>subterm : sub:<a href="index.html#type-t">t</a> <span class="keyword">&#8209;&gt;</span> <a href="index.html#type-t">t</a> <span class="keyword">&#8209;&gt;</span> bool</code></div><div class="doc"><p>checks whether <code class="code">sub</code> is a (non-strict) subterm of <code class="code">t</code></p></div></div><div class="spec include"><div class="doc"></div><details open="open"><summary><span class="def"><code><span class="keyword">include </span><a href="../Logtk/Interfaces/index.html#module-type-HASH">Logtk.Interfaces.HASH</a><span class="keyword"> with </span><span class="keyword">type </span><a href="../Logtk/Interfaces/module-type-HASH/index.html#type-t">t</a> := <a href="index.html#type-t">t</a></code></span></summary><div class="spec include"><div class="doc"></div><details open="open"><summary><span class="def"><code><span class="keyword">include </span><a href="../Logtk/Interfaces/index.html#module-type-EQ">Logtk.Interfaces.EQ</a></code></span></summary><div class="spec type" id="type-t"><a href="#type-t" class="anchor"></a><div class="def type"><code><span class="keyword">type </span>t</code><code></code><code></code></div><div class="doc"></div></div><div class="spec val" id="val-equal"><a href="#val-equal" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>equal : <a href="index.html#type-t">t</a> <span class="keyword">&#8209;&gt;</span> <a href="index.html#type-t">t</a> <span class="keyword">&#8209;&gt;</span> bool</code></div><div class="doc"></div></div></details></div><div class="spec val" id="val-hash"><a href="#val-hash" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>hash : <a href="index.html#type-t">t</a> <span class="keyword">&#8209;&gt;</span> int</code></div><div class="doc"></div></div></details></div><div class="spec include"><div class="doc"></div><details open="open"><summary><span class="def"><code><span class="keyword">include </span><a href="../Logtk/Interfaces/index.html#module-type-ORD">Logtk.Interfaces.ORD</a><span class="keyword"> with </span><span class="keyword">type </span><a href="../Logtk/Interfaces/module-type-ORD/index.html#type-t">t</a> := <a href="index.html#type-t">t</a></code></span></summary><div class="spec type" id="type-t"><a href="#type-t" class="anchor"></a><div class="def type"><code><span class="keyword">type </span>t</code><code></code><code></code></div><div class="doc"></div></div><div class="spec val" id="val-compare"><a href="#val-compare" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>compare : <a href="index.html#type-t">t</a> <span class="keyword">&#8209;&gt;</span> <a href="index.html#type-t">t</a> <span class="keyword">&#8209;&gt;</span> int</code></div><div class="doc"></div></div></details></div><div class="spec val" id="val-ty"><a href="#val-ty" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>ty : <a href="index.html#type-t">t</a> <span class="keyword">&#8209;&gt;</span> <a href="../Logtk/Type/index.html#type-t">Logtk.Type.t</a></code></div><div class="doc"><p>Obtain the type of a term..</p></div></div><div class="spec module" id="module-Set"><a href="#module-Set" class="anchor"></a><div class="def module"><code><span class="keyword">module </span>Set : CCSet.S<span class="keyword"> with </span><span class="keyword">type </span><a href="index.html#module-Set">Set</a>.elt<span class="keyword"> = </span><a href="index.html#type-t">t</a></code></div><div class="doc"></div></div><div class="spec module" id="module-Map"><a href="#module-Map" class="anchor"></a><div class="def module"><code><span class="keyword">module </span>Map : CCMap.S<span class="keyword"> with </span><span class="keyword">type </span><a href="index.html#module-Map">Map</a>.key<span class="keyword"> = </span><a href="index.html#type-t">t</a></code></div><div class="doc"></div></div><div class="spec module" id="module-Tbl"><a href="#module-Tbl" class="anchor"></a><div class="def module"><code><span class="keyword">module </span>Tbl : CCHashtbl.S<span class="keyword"> with </span><span class="keyword">type </span><a href="index.html#module-Tbl">Tbl</a>.key<span class="keyword"> = </span><a href="index.html#type-t">t</a></code></div><div class="doc"></div></div><div class="spec val" id="val-hash_mod_alpha"><a href="#val-hash_mod_alpha" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>hash_mod_alpha : <a href="index.html#type-t">t</a> <span class="keyword">&#8209;&gt;</span> int</code></div><div class="doc"><p>Hash invariant w.r.t variable renaming</p></div></div><div class="spec val" id="val-same_l"><a href="#val-same_l" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>same_l : <a href="index.html#type-t">t</a> list <span class="keyword">&#8209;&gt;</span> <a href="index.html#type-t">t</a> list <span class="keyword">&#8209;&gt;</span> bool</code></div><div class="doc"><p><code class="code">same_l l1 l2</code> returns <code class="code">true</code> if terms of <code class="code">l1</code> and <code class="code">l2</code> are pairwise
equal, <code class="code">false</code> otherwise.
Precondition: both lists have the same length</p><ul class="at-tag"><li><span class="at-tag raise">Raises</span> <span class="module-path">Assert_failure</span>: if lists have not the same length</li></ul></div></div><h3>Constructors</h3><div class="spec val" id="val-var"><a href="#val-var" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>var : <a href="index.html#type-var">var</a> <span class="keyword">&#8209;&gt;</span> <a href="index.html#type-t">t</a></code></div><div class="doc"></div></div><div class="spec val" id="val-var_of_int"><a href="#val-var_of_int" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>var_of_int : ty:<a href="../Logtk/Type/index.html#type-t">Logtk.Type.t</a> <span class="keyword">&#8209;&gt;</span> int <span class="keyword">&#8209;&gt;</span> <a href="index.html#type-t">t</a></code></div><div class="doc"></div></div><div class="spec val" id="val-bvar"><a href="#val-bvar" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>bvar : ty:<a href="../Logtk/Type/index.html#type-t">Logtk.Type.t</a> <span class="keyword">&#8209;&gt;</span> int <span class="keyword">&#8209;&gt;</span> <a href="index.html#type-t">t</a></code></div><div class="doc"><p>Create a bound variable. Providing a type is mandatory.
<b>Warning</b>: be careful and try not to use this function directly.</p><ul class="at-tag"><li><span class="at-tag raise">Raises</span> <span class="module-path">InnerTerm.IllFormedTerm</span>: if the index is &lt; 0</li></ul></div></div><div class="spec val" id="val-builtin"><a href="#val-builtin" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>builtin : ty:<a href="../Logtk/Type/index.html#type-t">Logtk.Type.t</a> <span class="keyword">&#8209;&gt;</span> <a href="../Logtk/Builtin/index.html#type-t">Logtk.Builtin.t</a> <span class="keyword">&#8209;&gt;</span> <a href="index.html#type-t">t</a></code></div><div class="doc"></div></div><div class="spec val" id="val-app_builtin"><a href="#val-app_builtin" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>app_builtin : ty:<a href="../Logtk/Type/index.html#type-t">Logtk.Type.t</a> <span class="keyword">&#8209;&gt;</span> <a href="../Logtk/Builtin/index.html#type-t">Logtk.Builtin.t</a> <span class="keyword">&#8209;&gt;</span> <a href="index.html#type-t">t</a> list <span class="keyword">&#8209;&gt;</span> <a href="index.html#type-t">t</a></code></div><div class="doc"></div></div><div class="spec val" id="val-const"><a href="#val-const" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>const : ty:<a href="../Logtk/Type/index.html#type-t">Logtk.Type.t</a> <span class="keyword">&#8209;&gt;</span> <a href="../Logtk/ID/index.html#type-t">Logtk.ID.t</a> <span class="keyword">&#8209;&gt;</span> <a href="index.html#type-t">t</a></code></div><div class="doc"><p>Create a typed constant</p></div></div><div class="spec val" id="val-tyapp"><a href="#val-tyapp" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>tyapp : <a href="index.html#type-t">t</a> <span class="keyword">&#8209;&gt;</span> <a href="../Logtk/Type/index.html#type-t">Logtk.Type.t</a> list <span class="keyword">&#8209;&gt;</span> <a href="index.html#type-t">t</a></code></div><div class="doc"><p>Apply a term to types</p><ul class="at-tag"><li><span class="at-tag raise">Raises</span> <span class="module-path">Type.Error</span>: if types do not match.</li></ul></div></div><div class="spec val" id="val-app"><a href="#val-app" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>app : <a href="index.html#type-t">t</a> <span class="keyword">&#8209;&gt;</span> <a href="index.html#type-t">t</a> list <span class="keyword">&#8209;&gt;</span> <a href="index.html#type-t">t</a></code></div><div class="doc"><p>Apply a term to a list of terms</p><ul class="at-tag"><li><span class="at-tag raise">Raises</span> <span class="module-path">Type.ApplyError</span>: if types do not match.</li></ul></div></div><div class="spec val" id="val-app_full"><a href="#val-app_full" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>app_full : <a href="index.html#type-t">t</a> <span class="keyword">&#8209;&gt;</span> <a href="../Logtk/Type/index.html#type-t">Logtk.Type.t</a> list <span class="keyword">&#8209;&gt;</span> <a href="index.html#type-t">t</a> list <span class="keyword">&#8209;&gt;</span> <a href="index.html#type-t">t</a></code></div><div class="doc"><p>Apply the term to types, then to terms</p></div></div><div class="spec val" id="val-true_"><a href="#val-true_" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>true_ : <a href="index.html#type-t">t</a></code></div><div class="doc"></div></div><div class="spec val" id="val-false_"><a href="#val-false_" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>false_ : <a href="index.html#type-t">t</a></code></div><div class="doc"></div></div><div class="spec val" id="val-fun_"><a href="#val-fun_" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>fun_ : <a href="../Logtk/Type/index.html#type-t">Logtk.Type.t</a> <span class="keyword">&#8209;&gt;</span> <a href="index.html#type-t">t</a> <span class="keyword">&#8209;&gt;</span> <a href="index.html#type-t">t</a></code></div><div class="doc"></div></div><div class="spec val" id="val-fun_l"><a href="#val-fun_l" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>fun_l : <a href="../Logtk/Type/index.html#type-t">Logtk.Type.t</a> list <span class="keyword">&#8209;&gt;</span> <a href="index.html#type-t">t</a> <span class="keyword">&#8209;&gt;</span> <a href="index.html#type-t">t</a></code></div><div class="doc"></div></div><div class="spec val" id="val-fun_of_fvars"><a href="#val-fun_of_fvars" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>fun_of_fvars : <a href="index.html#type-var">var</a> list <span class="keyword">&#8209;&gt;</span> <a href="index.html#type-t">t</a> <span class="keyword">&#8209;&gt;</span> <a href="index.html#type-t">t</a></code></div><div class="doc"><p>Build a function from a list of free vars + the body.
This performs the De Bruijn transformation, and shifts the body.</p></div></div><div class="spec val" id="val-open_fun"><a href="#val-open_fun" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>open_fun : <a href="index.html#type-t">t</a> <span class="keyword">&#8209;&gt;</span> <a href="../Logtk/Type/index.html#type-t">Logtk.Type.t</a> list<span class="keyword"> * </span><a href="index.html#type-t">t</a></code></div><div class="doc"></div></div><div class="spec val" id="val-open_fun_offset"><a href="#val-open_fun_offset" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>open_fun_offset : offset:int <span class="keyword">&#8209;&gt;</span> <a href="index.html#type-t">t</a> <span class="keyword">&#8209;&gt;</span> <a href="index.html#type-var">var</a> list<span class="keyword"> * </span><a href="index.html#type-t">t</a><span class="keyword"> * </span>int</code></div><div class="doc"><p><code class="code">open_fun ~offset (λxy. F)</code> returns <code class="code">[v1,v2], F[v1/x,v2/y], offset+2</code>
where <code class="code">v1</code> and <code class="code">v2</code> are fresh variables starting from offset</p></div></div><div class="spec val" id="val-grounding"><a href="#val-grounding" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>grounding : <a href="../Logtk/Type/index.html#type-t">Logtk.Type.t</a> <span class="keyword">&#8209;&gt;</span> <a href="index.html#type-t">t</a></code></div><div class="doc"><p><code class="code">grounding ty</code> is a unique constant of type <code class="code">ty</code></p></div></div><div class="spec val" id="val-is_var"><a href="#val-is_var" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>is_var : <a href="index.html#type-t">t</a> <span class="keyword">&#8209;&gt;</span> bool</code></div><div class="doc"></div></div><div class="spec val" id="val-is_bvar"><a href="#val-is_bvar" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>is_bvar : <a href="index.html#type-t">t</a> <span class="keyword">&#8209;&gt;</span> bool</code></div><div class="doc"></div></div><div class="spec val" id="val-is_app"><a href="#val-is_app" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>is_app : <a href="index.html#type-t">t</a> <span class="keyword">&#8209;&gt;</span> bool</code></div><div class="doc"></div></div><div class="spec val" id="val-is_const"><a href="#val-is_const" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>is_const : <a href="index.html#type-t">t</a> <span class="keyword">&#8209;&gt;</span> bool</code></div><div class="doc"></div></div><div class="spec val" id="val-is_fun"><a href="#val-is_fun" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>is_fun : <a href="index.html#type-t">t</a> <span class="keyword">&#8209;&gt;</span> bool</code></div><div class="doc"></div></div><div class="spec val" id="val-is_type"><a href="#val-is_type" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>is_type : <a href="index.html#type-t">t</a> <span class="keyword">&#8209;&gt;</span> bool</code></div><div class="doc"><p>Does it have type <code class="code">tType</code>?</p></div></div><div class="spec val" id="val-as_const"><a href="#val-as_const" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>as_const : <a href="index.html#type-t">t</a> <span class="keyword">&#8209;&gt;</span> <a href="../Logtk/ID/index.html#type-t">Logtk.ID.t</a> option</code></div><div class="doc"></div></div><div class="spec val" id="val-as_const_exn"><a href="#val-as_const_exn" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>as_const_exn : <a href="index.html#type-t">t</a> <span class="keyword">&#8209;&gt;</span> <a href="../Logtk/ID/index.html#type-t">Logtk.ID.t</a></code></div><div class="doc"></div></div><div class="spec val" id="val-as_var"><a href="#val-as_var" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>as_var : <a href="index.html#type-t">t</a> <span class="keyword">&#8209;&gt;</span> <a href="index.html#type-var">var</a> option</code></div><div class="doc"></div></div><div class="spec val" id="val-as_var_exn"><a href="#val-as_var_exn" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>as_var_exn : <a href="index.html#type-t">t</a> <span class="keyword">&#8209;&gt;</span> <a href="index.html#type-var">var</a></code></div><div class="doc"></div></div><div class="spec val" id="val-as_app"><a href="#val-as_app" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>as_app : <a href="index.html#type-t">t</a> <span class="keyword">&#8209;&gt;</span> <a href="index.html#type-t">t</a><span class="keyword"> * </span><a href="index.html#type-t">t</a> list</code></div><div class="doc"><p><code class="code">as_app t</code> decomposes <code class="code">t</code> into a head (non-application) and arguments,
such as <code class="code">(let f,l = as_app t in app f l) = t</code></p></div></div><div class="spec val" id="val-as_fun"><a href="#val-as_fun" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>as_fun : <a href="index.html#type-t">t</a> <span class="keyword">&#8209;&gt;</span> <a href="../Logtk/Type/index.html#type-t">Logtk.Type.t</a> list<span class="keyword"> * </span><a href="index.html#type-t">t</a></code></div><div class="doc"><p>Open functions</p></div></div><div class="spec val" id="val-head_term"><a href="#val-head_term" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>head_term : <a href="index.html#type-t">t</a> <span class="keyword">&#8209;&gt;</span> <a href="index.html#type-t">t</a></code></div><div class="doc"><p><code class="code">head_term t = fst (as_app t)</code></p></div></div><div class="spec val" id="val-head_term_mono"><a href="#val-head_term_mono" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>head_term_mono : <a href="index.html#type-t">t</a> <span class="keyword">&#8209;&gt;</span> <a href="index.html#type-t">t</a></code></div><div class="doc"><p>head term, but still with type arguments</p></div></div><div class="spec val" id="val-args"><a href="#val-args" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>args : <a href="index.html#type-t">t</a> <span class="keyword">&#8209;&gt;</span> <a href="index.html#type-t">t</a> list</code></div><div class="doc"><p><code class="code">args t = snd (as_app t)</code></p></div></div><div class="spec val" id="val-of_term_unsafe"><a href="#val-of_term_unsafe" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>of_term_unsafe : <a href="../Logtk/InnerTerm/index.html#type-t">Logtk.InnerTerm.t</a> <span class="keyword">&#8209;&gt;</span> <a href="index.html#type-t">t</a></code></div><div class="doc"><p><b>NOTE</b>: this can break the invariants and make <a href="index.html#type-view">view</a> fail. Only
apply with caution.</p></div></div><div class="spec val" id="val-of_term_unsafe_l"><a href="#val-of_term_unsafe_l" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>of_term_unsafe_l : <a href="../Logtk/InnerTerm/index.html#type-t">Logtk.InnerTerm.t</a> list <span class="keyword">&#8209;&gt;</span> <a href="index.html#type-t">t</a> list</code></div><div class="doc"></div></div><div class="spec val" id="val-of_ty"><a href="#val-of_ty" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>of_ty : <a href="../Logtk/Type/index.html#type-t">Logtk.Type.t</a> <span class="keyword">&#8209;&gt;</span> <a href="index.html#type-t">t</a></code></div><div class="doc"><p>Upcast from type</p></div></div><div class="spec module" id="module-VarSet"><a href="#module-VarSet" class="anchor"></a><div class="def module"><code><span class="keyword">module </span>VarSet : CCSet.S<span class="keyword"> with </span><span class="keyword">type </span><a href="index.html#module-VarSet">VarSet</a>.elt<span class="keyword"> = </span><a href="index.html#type-var">var</a></code></div><div class="doc"></div></div><div class="spec module" id="module-VarMap"><a href="#module-VarMap" class="anchor"></a><div class="def module"><code><span class="keyword">module </span>VarMap : CCMap.S<span class="keyword"> with </span><span class="keyword">type </span><a href="index.html#module-VarMap">VarMap</a>.key<span class="keyword"> = </span><a href="index.html#type-var">var</a></code></div><div class="doc"></div></div><div class="spec module" id="module-VarTbl"><a href="#module-VarTbl" class="anchor"></a><div class="def module"><code><span class="keyword">module </span>VarTbl : CCHashtbl.S<span class="keyword"> with </span><span class="keyword">type </span><a href="index.html#module-VarTbl">VarTbl</a>.key<span class="keyword"> = </span><a href="index.html#type-var">var</a></code></div><div class="doc"></div></div><h3>Sequences</h3><div class="spec module" id="module-Seq"><a href="#module-Seq" class="anchor"></a><div class="def module"><code><span class="keyword">module </span><a href="Seq/index.html">Seq</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></div><div class="doc"></div></div><div class="spec val" id="val-var_occurs"><a href="#val-var_occurs" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>var_occurs : var:<a href="index.html#type-var">var</a> <span class="keyword">&#8209;&gt;</span> <a href="index.html#type-t">t</a> <span class="keyword">&#8209;&gt;</span> bool</code></div><div class="doc"><p><code class="code">var_occurs ~var t</code> true iff <code class="code">var</code> in t</p></div></div><div class="spec val" id="val-is_ground"><a href="#val-is_ground" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>is_ground : <a href="index.html#type-t">t</a> <span class="keyword">&#8209;&gt;</span> bool</code></div><div class="doc"><p><code class="code">var_occurs ~var t</code> true iff <code class="code">var</code> in t</p><p>is the term ground? (no free vars)</p></div></div><div class="spec val" id="val-monomorphic"><a href="#val-monomorphic" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>monomorphic : <a href="index.html#type-t">t</a> <span class="keyword">&#8209;&gt;</span> bool</code></div><div class="doc"><p>is the term ground? (no free vars)</p><p>true if the term contains no type var</p></div></div><div class="spec val" id="val-max_var"><a href="#val-max_var" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>max_var : <a href="index.html#module-VarSet">VarSet</a>.t <span class="keyword">&#8209;&gt;</span> int</code></div><div class="doc"><p>true if the term contains no type var</p><p>find the maximum variable</p></div></div><div class="spec val" id="val-min_var"><a href="#val-min_var" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>min_var : <a href="index.html#module-VarSet">VarSet</a>.t <span class="keyword">&#8209;&gt;</span> int</code></div><div class="doc"><p>find the maximum variable</p><p>minimum variable</p></div></div><div class="spec val" id="val-add_vars"><a href="#val-add_vars" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>add_vars : unit <a href="index.html#module-VarTbl">VarTbl</a>.t <span class="keyword">&#8209;&gt;</span> <a href="index.html#type-t">t</a> <span class="keyword">&#8209;&gt;</span> unit</code></div><div class="doc"><p>minimum variable</p><p>add variables of the term to the set</p></div></div><div class="spec val" id="val-vars"><a href="#val-vars" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>vars : <a href="index.html#type-t">t</a> <span class="keyword">&#8209;&gt;</span> <a href="index.html#module-VarSet">VarSet</a>.t</code></div><div class="doc"><p>add variables of the term to the set</p><p>compute variables of the terms</p></div></div><div class="spec val" id="val-vars_prefix_order"><a href="#val-vars_prefix_order" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>vars_prefix_order : <a href="index.html#type-t">t</a> <span class="keyword">&#8209;&gt;</span> <a href="index.html#type-var">var</a> list</code></div><div class="doc"><p>compute variables of the terms</p><p>variables in prefix traversal order</p></div></div><div class="spec val" id="val-depth"><a href="#val-depth" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>depth : <a href="index.html#type-t">t</a> <span class="keyword">&#8209;&gt;</span> int</code></div><div class="doc"><p>variables in prefix traversal order</p><p>depth of the term</p></div></div><div class="spec val" id="val-head"><a href="#val-head" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>head : <a href="index.html#type-t">t</a> <span class="keyword">&#8209;&gt;</span> <a href="../Logtk/ID/index.html#type-t">Logtk.ID.t</a> option</code></div><div class="doc"><p>depth of the term</p><p>head ID.t</p></div></div><div class="spec val" id="val-head_exn"><a href="#val-head_exn" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>head_exn : <a href="index.html#type-t">t</a> <span class="keyword">&#8209;&gt;</span> <a href="../Logtk/ID/index.html#type-t">Logtk.ID.t</a></code></div><div class="doc"><p>head ID.t</p><p>head ID.t (or Invalid_argument)</p></div></div><div class="spec val" id="val-size"><a href="#val-size" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>size : <a href="index.html#type-t">t</a> <span class="keyword">&#8209;&gt;</span> int</code></div><div class="doc"><p>head ID.t (or Invalid_argument)</p><p>Size (number of nodes)</p></div></div><div class="spec val" id="val-weight"><a href="#val-weight" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>weight : ?&#8288;var:int <span class="keyword">&#8209;&gt;</span> ?&#8288;sym:(<a href="../Logtk/ID/index.html#type-t">Logtk.ID.t</a> <span class="keyword">&#8209;&gt;</span> int) <span class="keyword">&#8209;&gt;</span> <a href="index.html#type-t">t</a> <span class="keyword">&#8209;&gt;</span> int</code></div><div class="doc"><p>Compute the weight of a term, given a weight for variables
and one for ID.ts.</p><ul class="at-tag"><li><span class="at-tag parameter">Parameter</span> <span class="module-path">var</span>: unique weight for every variable (default 1)</li><li><span class="at-tag parameter">Parameter</span> <span class="module-path">sym</span>: function from ID.ts to their weight (default <code class="code">const 1</code>)</li><li><span class="at-tag since">Since</span>: 0.5.3</li></ul></div></div><div class="spec val" id="val-ty_vars"><a href="#val-ty_vars" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>ty_vars : <a href="index.html#type-t">t</a> <span class="keyword">&#8209;&gt;</span> <a href="../Logtk__Type/index.html#module-VarSet">Logtk.Type.VarSet</a>.t</code></div><div class="doc"><p>Set of free type variables</p></div></div><div class="spec val" id="val-is_ho_var"><a href="#val-is_ho_var" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>is_ho_var : <a href="index.html#type-t">t</a> <span class="keyword">&#8209;&gt;</span> bool</code></div><div class="doc"></div></div><div class="spec val" id="val-is_ho_app"><a href="#val-is_ho_app" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>is_ho_app : <a href="index.html#type-t">t</a> <span class="keyword">&#8209;&gt;</span> bool</code></div><div class="doc"><p><code class="code">is_ho_app (F t1…tn)</code> is true, when <code class="code">F</code> is a variable (of any function type)</p></div></div><div class="spec val" id="val-as_ho_app"><a href="#val-as_ho_app" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>as_ho_app : <a href="index.html#type-t">t</a> <span class="keyword">&#8209;&gt;</span> (<a href="../Logtk/Type/index.html#type-t">Logtk.Type.t</a> <a href="../Logtk/HVar/index.html#type-t">Logtk.HVar.t</a><span class="keyword"> * </span><a href="index.html#type-t">t</a> list) option</code></div><div class="doc"><p><code class="code">as_ho_app (F t1…tn) = Some (F, [t1…tn])</code></p></div></div><div class="spec val" id="val-is_ho_pred"><a href="#val-is_ho_pred" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>is_ho_pred : <a href="index.html#type-t">t</a> <span class="keyword">&#8209;&gt;</span> bool</code></div><div class="doc"><p><code class="code">is_ho_pred (F t1…tn)</code> is true, when <code class="code">F</code> is a predicate variable</p></div></div><div class="spec val" id="val-is_ho_at_root"><a href="#val-is_ho_at_root" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>is_ho_at_root : <a href="index.html#type-t">t</a> <span class="keyword">&#8209;&gt;</span> bool</code></div><div class="doc"><p><code class="code">is_ho_at_root t</code> returns <code class="code">true</code> if the term <code class="code">t</code> is a higher-order variable,
possibly applied (i.e. <code class="code">is_ho_var t || is_ho_app t</code>)</p></div></div><h3>Subterms and Positions</h3><div class="spec module" id="module-Pos"><a href="#module-Pos" class="anchor"></a><div class="def module"><code><span class="keyword">module </span><a href="Pos/index.html">Pos</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></div><div class="doc"></div></div><div class="spec val" id="val-replace"><a href="#val-replace" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>replace : <a href="index.html#type-t">t</a> <span class="keyword">&#8209;&gt;</span> old:<a href="index.html#type-t">t</a> <span class="keyword">&#8209;&gt;</span> by:<a href="index.html#type-t">t</a> <span class="keyword">&#8209;&gt;</span> <a href="index.html#type-t">t</a></code></div><div class="doc"><p><code class="code">replace t ~old ~by</code> syntactically replaces all occurrences of <code class="code">old</code>
in <code class="code">t</code> by the term <code class="code">by</code>.</p></div></div><div class="spec val" id="val-replace_m"><a href="#val-replace_m" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>replace_m : <a href="index.html#type-t">t</a> <span class="keyword">&#8209;&gt;</span> <a href="index.html#type-t">t</a> <a href="index.html#module-Map">Map</a>.t <span class="keyword">&#8209;&gt;</span> <a href="index.html#type-t">t</a></code></div><div class="doc"><p><code class="code">replace t m</code> syntactically replaces all occurrences of bindings of
the map in <code class="code">t</code>, starting from the root</p></div></div><h3>High-level operations</h3><div class="spec val" id="val-symbols"><a href="#val-symbols" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>symbols : ?&#8288;init:<a href="../Logtk__ID/index.html#module-Set">Logtk.ID.Set</a>.t <span class="keyword">&#8209;&gt;</span> <a href="index.html#type-t">t</a> <span class="keyword">&#8209;&gt;</span> <a href="../Logtk__ID/index.html#module-Set">Logtk.ID.Set</a>.t</code></div><div class="doc"><p>Symbols of the term (keys of signature)</p></div></div><div class="spec val" id="val-contains_symbol"><a href="#val-contains_symbol" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>contains_symbol : <a href="../Logtk/ID/index.html#type-t">Logtk.ID.t</a> <span class="keyword">&#8209;&gt;</span> <a href="index.html#type-t">t</a> <span class="keyword">&#8209;&gt;</span> bool</code></div><div class="doc"><p>Does the term contain this given ID.t?</p></div></div><h3>Fold</h3><p>High level fold-like combinators</p><div class="spec val" id="val-all_positions"><a href="#val-all_positions" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>all_positions : ?&#8288;vars:bool <span class="keyword">&#8209;&gt;</span> ?&#8288;ty_args:bool <span class="keyword">&#8209;&gt;</span> ?&#8288;pos:<a href="../Logtk/Position/index.html#type-t">Logtk.Position.t</a> <span class="keyword">&#8209;&gt;</span> <a href="index.html#type-t">t</a> <span class="keyword">&#8209;&gt;</span> <a href="index.html#type-t">t</a> <a href="../Logtk/Position/With/index.html#type-t">Logtk.Position.With.t</a> Sequence.t</code></div><div class="doc"><p>Iterate on all sub-terms with their position.</p><ul class="at-tag"><li><span class="at-tag parameter">Parameter</span> <span class="module-path">vars</span>: specifies whether variables are folded on (default false).</li><li><span class="at-tag parameter">Parameter</span> <span class="module-path">ty_args</span>: specifies whether type arguments are folded on (default true).</li><li><span class="at-tag parameter">Parameter</span> <span class="module-path">pos</span>: the initial position (default empty)</li></ul></div></div><h3>Some AC-utils</h3><div class="spec module-type" id="module-type-AC_SPEC"><a href="#module-type-AC_SPEC" class="anchor"></a><div class="def module-type"><code><span class="keyword">module type </span><a href="module-type-AC_SPEC/index.html">AC_SPEC</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></div><div class="doc"></div></div><div class="spec module" id="module-AC"><a href="#module-AC" class="anchor"></a><div class="def module"><code><span class="keyword">module </span><a href="AC/index.html">AC</a> : <span class="keyword">functor</span> (<a href="AC/argument-1-A/index.html">A</a> : <a href="index.html#module-type-AC_SPEC">AC_SPEC</a>) -&gt; <span class="keyword">sig</span> ... <span class="keyword">end</span></code></div><div class="doc"></div></div><h3>Printing/parsing</h3><div class="spec val" id="val-print_all_types"><a href="#val-print_all_types" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>print_all_types : bool Pervasives.ref</code></div><div class="doc"><p>If true, <a href="index.html#val-pp">pp</a> will print the types of all annotated terms</p></div></div><div class="spec include"><div class="doc"></div><details open="open"><summary><span class="def"><code><span class="keyword">include </span><a href="../Logtk/Interfaces/index.html#module-type-PRINT">Logtk.Interfaces.PRINT</a><span class="keyword"> with </span><span class="keyword">type </span><a href="../Logtk/Interfaces/module-type-PRINT/index.html#type-t">t</a> := <a href="index.html#type-t">t</a></code></span></summary><div class="spec type" id="type-t"><a href="#type-t" class="anchor"></a><div class="def type"><code><span class="keyword">type </span>t</code><code></code><code></code></div><div class="doc"></div></div><div class="spec val" id="val-pp"><a href="#val-pp" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>pp : <a href="index.html#type-t">t</a> CCFormat.printer</code></div><div class="doc"></div></div><div class="spec val" id="val-to_string"><a href="#val-to_string" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>to_string : <a href="index.html#type-t">t</a> <span class="keyword">&#8209;&gt;</span> string</code></div><div class="doc"></div></div></details></div><div class="spec include"><div class="doc"></div><details open="open"><summary><span class="def"><code><span class="keyword">include </span><a href="../Logtk/Interfaces/index.html#module-type-PRINT_DE_BRUIJN">Logtk.Interfaces.PRINT_DE_BRUIJN</a><span class="keyword"> with </span><span class="keyword">type </span><a href="../Logtk/Interfaces/module-type-PRINT_DE_BRUIJN/index.html#type-t">t</a> := <a href="index.html#type-t">t</a><span class="keyword"> and </span><span class="keyword">type </span><a href="../Logtk/Interfaces/module-type-PRINT_DE_BRUIJN/index.html#type-term">term</a> := <a href="index.html#type-t">t</a></code></span></summary><div class="spec type" id="type-t"><a href="#type-t" class="anchor"></a><div class="def type"><code><span class="keyword">type </span>t</code><code></code><code></code></div><div class="doc"></div></div><div class="spec type" id="type-term"><a href="#type-term" class="anchor"></a><div class="def type"><code><span class="keyword">type </span>term</code><code></code><code></code></div><div class="doc"></div></div><div class="spec type" id="type-print_hook"><a href="#type-print_hook" class="anchor"></a><div class="def type"><code><span class="keyword">type </span>print_hook</code><code><span class="keyword"> = </span>int <span class="keyword">&#8209;&gt;</span> <a href="index.html#type-term">term</a> CCFormat.printer <span class="keyword">&#8209;&gt;</span> Format.formatter <span class="keyword">&#8209;&gt;</span> <a href="index.html#type-term">term</a> <span class="keyword">&#8209;&gt;</span> bool</code><code></code></div><div class="doc"><p>User-provided hook that can be used to print terms (for composite cases)
before the default printing occurs. The int argument is the De Bruijn
depth in the term.
A hook takes as arguments the depth and the recursive printing function
that it can use to print subterms.
A hook should return <code class="code">true</code> if it fired, <code class="code">false</code> to fall back
on the default printing.</p></div></div><div class="spec val" id="val-pp_depth"><a href="#val-pp_depth" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>pp_depth : ?&#8288;hooks:<a href="index.html#type-print_hook">print_hook</a> list <span class="keyword">&#8209;&gt;</span> int <span class="keyword">&#8209;&gt;</span> <a href="index.html#type-t">t</a> CCFormat.printer</code></div><div class="doc"></div></div></details></div><div class="spec val" id="val-pp_var"><a href="#val-pp_var" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>pp_var : <a href="../Logtk/Type/index.html#type-t">Logtk.Type.t</a> <a href="../Logtk/HVar/index.html#type-t">Logtk.HVar.t</a> CCFormat.printer</code></div><div class="doc"></div></div><div class="spec val" id="val-add_hook"><a href="#val-add_hook" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>add_hook : <a href="index.html#type-print_hook">print_hook</a> <span class="keyword">&#8209;&gt;</span> unit</code></div><div class="doc"><p>Hook used by default for printing</p></div></div><div class="spec val" id="val-default_hooks"><a href="#val-default_hooks" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>default_hooks : unit <span class="keyword">&#8209;&gt;</span> <a href="index.html#type-print_hook">print_hook</a> list</code></div><div class="doc"><p>List of default hooks</p></div></div><div class="spec val" id="val-debugf"><a href="#val-debugf" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>debugf : Format.formatter <span class="keyword">&#8209;&gt;</span> <a href="index.html#type-t">t</a> <span class="keyword">&#8209;&gt;</span> unit</code></div><div class="doc"><p>debugf printing, with sorts</p></div></div><h3>Formulas</h3><div class="spec module" id="module-Form"><a href="#module-Form" class="anchor"></a><div class="def module"><code><span class="keyword">module </span><a href="Form/index.html">Form</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></div><div class="doc"></div></div><h3>Arith</h3><div class="spec module" id="module-Arith"><a href="#module-Arith" class="anchor"></a><div class="def module"><code><span class="keyword">module </span><a href="Arith/index.html">Arith</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></div><div class="doc"></div></div><div class="spec module" id="module-DB"><a href="#module-DB" class="anchor"></a><div class="def module"><code><span class="keyword">module </span><a href="DB/index.html">DB</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></div><div class="doc"><h3>De Bruijn</h3></div></div><h3>TPTP</h3><div class="spec module" id="module-TPTP"><a href="#module-TPTP" class="anchor"></a><div class="def module"><code><span class="keyword">module </span><a href="TPTP/index.html">TPTP</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></div><div class="doc"></div></div><div class="spec module" id="module-ZF"><a href="#module-ZF" class="anchor"></a><div class="def module"><code><span class="keyword">module </span><a href="ZF/index.html">ZF</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></div><div class="doc"></div></div><div class="spec val" id="val-pp_in"><a href="#val-pp_in" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>pp_in : <a href="../Logtk/Output_format/index.html#type-t">Logtk.Output_format.t</a> <span class="keyword">&#8209;&gt;</span> <a href="index.html#type-t">t</a> CCFormat.printer</code></div><div class="doc"></div></div><div class="spec module" id="module-Conv"><a href="#module-Conv" class="anchor"></a><div class="def module"><code><span class="keyword">module </span><a href="Conv/index.html">Conv</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></div><div class="doc"></div></div></body></html>