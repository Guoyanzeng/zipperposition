<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Phases (libzipperposition.phases.Libzipperposition_phases__.Phases)</title><link rel="stylesheet" href="../../../odoc.css"/><meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="generator" content="doc-ock-html v1.0.0-1-g1fc9bf0"/></head><body><nav id="top"><a href="../index.html">Up</a> &mdash; <span class="package">package <a href="../../index.html">libzipperposition.phases</a></span></nav><header><h1><span class="keyword">Module</span> <span class="module-path">Libzipperposition_phases__.Phases</span></h1></header><h2>Phases of the Prover</h2><p>To process a file, the prover goes through a sequence of phases that
are used to build values. This module reifies the phases.</p><div class="spec type" id="type-filename"><a href="#type-filename" class="anchor"></a><div class="def type"><code><span class="keyword">type </span>filename</code><code><span class="keyword"> = </span>string</code><code></code></div><div class="doc"></div></div><div class="spec type" id="type-or_error"><a href="#type-or_error" class="anchor"></a><div class="def type"><code><span class="keyword">type </span>'a or_error</code><code><span class="keyword"> = </span>(<span class="type-var">'a</span>, string) CCResult.t</code><code></code></div><div class="doc"></div></div><h3>Phases</h3><div class="spec type" id="type-env_with_clauses"><a href="#type-env_with_clauses" class="anchor"></a><div class="def type"><code><span class="keyword">type </span>env_with_clauses</code><code></code><code><span class="keyword"> = </span></code><table class="variant"><tr id="type-env_with_clauses.Env_clauses" class="anchored"><td class="def constructor"><a href="#type-env_with_clauses.Env_clauses" class="anchor"></a><code><span class="keyword">| </span></code><code><span class="constructor">Env_clauses</span><span class="keyword"> : </span><span class="type-var">'c</span> <a href="../../../libzipperposition/Libzipperposition/Env/index.html#type-packed">Libzipperposition.Env.packed</a><span class="keyword"> * </span><span class="type-var">'c</span> <a href="../../../libzipperposition/Libzipperposition/Clause/index.html#type-sets">Libzipperposition.Clause.sets</a> <span class="keyword">&#8209;&gt;</span> <a href="index.html#type-env_with_clauses">env_with_clauses</a></code></td></tr></table><code></code></div><div class="doc"></div></div><div class="spec type" id="type-env_with_result"><a href="#type-env_with_result" class="anchor"></a><div class="def type"><code><span class="keyword">type </span>env_with_result</code><code></code><code><span class="keyword"> = </span></code><table class="variant"><tr id="type-env_with_result.Env_result" class="anchored"><td class="def constructor"><a href="#type-env_with_result.Env_result" class="anchor"></a><code><span class="keyword">| </span></code><code><span class="constructor">Env_result</span><span class="keyword"> : </span><span class="type-var">'c</span> <a href="../../../libzipperposition/Libzipperposition/Env/index.html#type-packed">Libzipperposition.Env.packed</a><span class="keyword"> * </span><a href="../../../libzipperposition/Libzipperposition/Saturate/index.html#type-szs_status">Libzipperposition.Saturate.szs_status</a> <span class="keyword">&#8209;&gt;</span> <a href="index.html#type-env_with_result">env_with_result</a></code></td></tr></table><code></code></div><div class="doc"></div></div><div class="spec type" id="type-errcode"><a href="#type-errcode" class="anchor"></a><div class="def type"><code><span class="keyword">type </span>errcode</code><code><span class="keyword"> = </span>int</code><code></code></div><div class="doc"></div></div><div class="spec type" id="type-prelude"><a href="#type-prelude" class="anchor"></a><div class="def type"><code><span class="keyword">type </span>prelude</code><code><span class="keyword"> = </span><a href="../../../logtk/Logtk/UntypedAST/index.html#type-statement">Logtk.UntypedAST.statement</a> Sequence.t</code><code></code></div><div class="doc"></div></div><div class="spec type" id="type-phase"><a href="#type-phase" class="anchor"></a><div class="def type"><code><span class="keyword">type </span>('ret, 'before, 'after) phase</code><code></code><code><span class="keyword"> = </span></code><table class="variant"><tr id="type-phase.Init" class="anchored"><td class="def constructor"><a href="#type-phase.Init" class="anchor"></a><code><span class="keyword">| </span></code><code><span class="constructor">Init</span> <span class="keyword">:</span> (unit, <span class="type-var">_</span>, [ `Init ]) <a href="index.html#type-phase">phase</a></code></td></tr><tr id="type-phase.Setup_gc" class="anchored"><td class="def constructor"><a href="#type-phase.Setup_gc" class="anchor"></a><code><span class="keyword">| </span></code><code><span class="constructor">Setup_gc</span> <span class="keyword">:</span> (unit, [ `Init ], [ `Init ]) <a href="index.html#type-phase">phase</a></code></td></tr><tr id="type-phase.Setup_signal" class="anchored"><td class="def constructor"><a href="#type-phase.Setup_signal" class="anchor"></a><code><span class="keyword">| </span></code><code><span class="constructor">Setup_signal</span> <span class="keyword">:</span> (unit, [ `Init ], [ `Init ]) <a href="index.html#type-phase">phase</a></code></td></tr><tr id="type-phase.Parse_CLI" class="anchored"><td class="def constructor"><a href="#type-phase.Parse_CLI" class="anchor"></a><code><span class="keyword">| </span></code><code><span class="constructor">Parse_CLI</span> <span class="keyword">:</span> (<a href="index.html#type-filename">filename</a> list<span class="keyword"> * </span><a href="../../../libzipperposition/Libzipperposition/Params/index.html#type-t">Libzipperposition.Params.t</a>, [ `Init ], [ `Parse_cli ]) <a href="index.html#type-phase">phase</a></code></td></tr><tr id="type-phase.LoadExtensions" class="anchored"><td class="def constructor"><a href="#type-phase.LoadExtensions" class="anchor"></a><code><span class="keyword">| </span></code><code><span class="constructor">LoadExtensions</span> <span class="keyword">:</span> (<a href="../../../libzipperposition/Libzipperposition/Extensions/index.html#type-t">Libzipperposition.Extensions.t</a> list, [ `Parse_cli ], [ `LoadExtensions ]) <a href="index.html#type-phase">phase</a></code></td></tr><tr id="type-phase.Parse_prelude" class="anchored"><td class="def constructor"><a href="#type-phase.Parse_prelude" class="anchor"></a><code><span class="keyword">| </span></code><code><span class="constructor">Parse_prelude</span> <span class="keyword">:</span> (<a href="index.html#type-prelude">prelude</a>, [ `LoadExtensions ], [ `Parse_prelude ]) <a href="index.html#type-phase">phase</a></code></td></tr><tr id="type-phase.Start_file" class="anchored"><td class="def constructor"><a href="#type-phase.Start_file" class="anchor"></a><code><span class="keyword">| </span></code><code><span class="constructor">Start_file</span> <span class="keyword">:</span> (<a href="index.html#type-filename">filename</a>, [ `Parse_prelude ], [ `Start_file ]) <a href="index.html#type-phase">phase</a></code></td></tr><tr id="type-phase.Parse_file" class="anchored"><td class="def constructor"><a href="#type-phase.Parse_file" class="anchor"></a><code><span class="keyword">| </span></code><code><span class="constructor">Parse_file</span> <span class="keyword">:</span> (<a href="../../../logtk/Logtk/Input_format/index.html#type-t">Logtk.Input_format.t</a><span class="keyword"> * </span><a href="../../../logtk/Logtk/UntypedAST/index.html#type-statement">Logtk.UntypedAST.statement</a> Sequence.t, [ `Start_file ], [ `Parse_file ]) <a href="index.html#type-phase">phase</a></code></td></tr><tr id="type-phase.Typing" class="anchored"><td class="def constructor"><a href="#type-phase.Typing" class="anchor"></a><code><span class="keyword">| </span></code><code><span class="constructor">Typing</span> <span class="keyword">:</span> (<a href="../../../logtk/Logtk/TypeInference/index.html#type-typed_statement">Logtk.TypeInference.typed_statement</a> CCVector.ro_vector, [ `Parse_file ], [ `Typing ]) <a href="index.html#type-phase">phase</a></code></td></tr><tr id="type-phase.CNF" class="anchored"><td class="def constructor"><a href="#type-phase.CNF" class="anchor"></a><code><span class="keyword">| </span></code><code><span class="constructor">CNF</span> <span class="keyword">:</span> (<a href="../../../logtk/Logtk/Statement/index.html#type-clause_t">Logtk.Statement.clause_t</a> CCVector.ro_vector, [ `Typing ], [ `CNF ]) <a href="index.html#type-phase">phase</a></code></td></tr><tr id="type-phase.Compute_prec" class="anchored"><td class="def constructor"><a href="#type-phase.Compute_prec" class="anchor"></a><code><span class="keyword">| </span></code><code><span class="constructor">Compute_prec</span> <span class="keyword">:</span> (<a href="../../../logtk/Logtk/Precedence/index.html#type-t">Logtk.Precedence.t</a>, [ `CNF ], [ `Precedence ]) <a href="index.html#type-phase">phase</a></code></td></tr><tr id="type-phase.Compute_ord_select" class="anchored"><td class="def constructor"><a href="#type-phase.Compute_ord_select" class="anchor"></a><code><span class="keyword">| </span></code><code><span class="constructor">Compute_ord_select</span> <span class="keyword">:</span> (<a href="../../../logtk/Logtk/Ordering/index.html#type-t">Logtk.Ordering.t</a><span class="keyword"> * </span><a href="../../../libzipperposition/Libzipperposition/Selection/index.html#type-t">Libzipperposition.Selection.t</a>, [ `Precedence ], [ `Compute_ord_select ]) <a href="index.html#type-phase">phase</a></code></td></tr><tr id="type-phase.MakeCtx" class="anchored"><td class="def constructor"><a href="#type-phase.MakeCtx" class="anchor"></a><code><span class="keyword">| </span></code><code><span class="constructor">MakeCtx</span> <span class="keyword">:</span> ((<span class="keyword">module </span><a href="../../../libzipperposition/Libzipperposition/Ctx/module-type-S/index.html">Libzipperposition.Ctx.S</a>), [ `Compute_ord_select ], [ `MakeCtx ]) <a href="index.html#type-phase">phase</a></code></td></tr><tr id="type-phase.MakeEnv" class="anchored"><td class="def constructor"><a href="#type-phase.MakeEnv" class="anchor"></a><code><span class="keyword">| </span></code><code><span class="constructor">MakeEnv</span> <span class="keyword">:</span> (<a href="index.html#type-env_with_clauses">env_with_clauses</a>, [ `MakeCtx ], [ `MakeEnv ]) <a href="index.html#type-phase">phase</a></code></td></tr><tr id="type-phase.Pre_saturate" class="anchored"><td class="def constructor"><a href="#type-phase.Pre_saturate" class="anchor"></a><code><span class="keyword">| </span></code><code><span class="constructor">Pre_saturate</span> <span class="keyword">:</span> (<span class="type-var">'c</span> <a href="../../../libzipperposition/Libzipperposition/Env/index.html#type-packed">Libzipperposition.Env.packed</a><span class="keyword"> * </span><a href="../../../libzipperposition/Libzipperposition/Saturate/index.html#type-szs_status">Libzipperposition.Saturate.szs_status</a><span class="keyword"> * </span><span class="type-var">'c</span> <a href="../../../libzipperposition/Libzipperposition/Clause/index.html#type-sets">Libzipperposition.Clause.sets</a>, [ `MakeEnv ], [ `Pre_saturate ]) <a href="index.html#type-phase">phase</a></code></td></tr><tr id="type-phase.Saturate" class="anchored"><td class="def constructor"><a href="#type-phase.Saturate" class="anchor"></a><code><span class="keyword">| </span></code><code><span class="constructor">Saturate</span> <span class="keyword">:</span> (<a href="index.html#type-env_with_result">env_with_result</a>, [ `Pre_saturate ], [ `Saturate ]) <a href="index.html#type-phase">phase</a></code></td></tr><tr id="type-phase.Print_result" class="anchored"><td class="def constructor"><a href="#type-phase.Print_result" class="anchor"></a><code><span class="keyword">| </span></code><code><span class="constructor">Print_result</span> <span class="keyword">:</span> (unit, [ `Saturate ], [ `Print_result ]) <a href="index.html#type-phase">phase</a></code></td></tr><tr id="type-phase.Print_dot" class="anchored"><td class="def constructor"><a href="#type-phase.Print_dot" class="anchor"></a><code><span class="keyword">| </span></code><code><span class="constructor">Print_dot</span> <span class="keyword">:</span> (unit, [ `Print_result ], [ `Print_dot ]) <a href="index.html#type-phase">phase</a></code></td></tr><tr id="type-phase.Check_proof" class="anchored"><td class="def constructor"><a href="#type-phase.Check_proof" class="anchor"></a><code><span class="keyword">| </span></code><code><span class="constructor">Check_proof</span> <span class="keyword">:</span> (<a href="index.html#type-errcode">errcode</a>, [ `Print_dot ], [ `Check_proof ]) <a href="index.html#type-phase">phase</a></code></td></tr><tr id="type-phase.Print_stats" class="anchored"><td class="def constructor"><a href="#type-phase.Print_stats" class="anchor"></a><code><span class="keyword">| </span></code><code><span class="constructor">Print_stats</span> <span class="keyword">:</span> (unit, [ `Check_proof ], [ `Print_stats ]) <a href="index.html#type-phase">phase</a></code></td></tr><tr id="type-phase.Exit" class="anchored"><td class="def constructor"><a href="#type-phase.Exit" class="anchor"></a><code><span class="keyword">| </span></code><code><span class="constructor">Exit</span> <span class="keyword">:</span> (unit, <span class="type-var">_</span>, [ `Exit ]) <a href="index.html#type-phase">phase</a></code></td></tr></table><code></code></div><div class="doc"></div></div><div class="spec type" id="type-any_phase"><a href="#type-any_phase" class="anchor"></a><div class="def type"><code><span class="keyword">type </span>any_phase</code><code></code><code><span class="keyword"> = </span></code><table class="variant"><tr id="type-any_phase.Any_phase" class="anchored"><td class="def constructor"><a href="#type-any_phase.Any_phase" class="anchor"></a><code><span class="keyword">| </span></code><code><span class="constructor">Any_phase</span><span class="keyword"> : </span>(<span class="type-var">_</span>, <span class="type-var">_</span>, <span class="type-var">_</span>) <a href="index.html#type-phase">phase</a> <span class="keyword">&#8209;&gt;</span> <a href="index.html#type-any_phase">any_phase</a></code></td><td class="doc"><p>(** A phase hidden in an existential type *)</p></td></tr></table><code></code></div><div class="doc"></div></div><h3>Main Type</h3><div class="spec type" id="type-t"><a href="#type-t" class="anchor"></a><div class="def type"><code><span class="keyword">type </span>(+'a, 'p1, 'p2) t</code><code></code><code></code></div><div class="doc"><p>Monad type, representing an action starting at phase <code class="code">'p1</code>
and stopping at phase <code class="code">'p2</code></p></div></div><div class="spec val" id="val-string_of_phase"><a href="#val-string_of_phase" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>string_of_phase : (<span class="type-var">_</span>, <span class="type-var">_</span>, <span class="type-var">_</span>) <a href="index.html#type-phase">phase</a> <span class="keyword">&#8209;&gt;</span> string</code></div><div class="doc"></div></div><div class="spec val" id="val-string_of_any_phase"><a href="#val-string_of_any_phase" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>string_of_any_phase : <a href="index.html#type-any_phase">any_phase</a> <span class="keyword">&#8209;&gt;</span> string</code></div><div class="doc"></div></div><div class="spec val" id="val-return"><a href="#val-return" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>return : <span class="type-var">'a</span> <span class="keyword">&#8209;&gt;</span> (<span class="type-var">'a</span>, <span class="type-var">'p</span>, <span class="type-var">'p</span>) <a href="index.html#type-t">t</a></code></div><div class="doc"><p>Return a value into the monad</p></div></div><div class="spec val" id="val-fail"><a href="#val-fail" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>fail : string <span class="keyword">&#8209;&gt;</span> (<span class="type-var">_</span>, <span class="type-var">_</span>, <span class="type-var">_</span>) <a href="index.html#type-t">t</a></code></div><div class="doc"><p>Fail with the given error message</p></div></div><div class="spec val" id="val-return_err"><a href="#val-return_err" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>return_err : <span class="type-var">'a</span> <a href="index.html#type-or_error">or_error</a> <span class="keyword">&#8209;&gt;</span> (<span class="type-var">'a</span>, <span class="type-var">'p</span>, <span class="type-var">'p</span>) <a href="index.html#type-t">t</a></code></div><div class="doc"></div></div><div class="spec val" id="val-exit"><a href="#val-exit" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>exit : (unit, <span class="type-var">_</span>, [ `Exit ]) <a href="index.html#type-t">t</a></code></div><div class="doc"><p>Exit</p></div></div><div class="spec val" id="val-start_phase"><a href="#val-start_phase" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>start_phase : (<span class="type-var">_</span>, <span class="type-var">'p1</span>, <span class="type-var">'p2</span>) <a href="index.html#type-phase">phase</a> <span class="keyword">&#8209;&gt;</span> (unit, <span class="type-var">'p1</span>, [ `InPhase of <span class="type-var">'p2</span> ]) <a href="index.html#type-t">t</a></code></div><div class="doc"><p>Start the given phase</p></div></div><div class="spec val" id="val-return_phase"><a href="#val-return_phase" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>return_phase : <span class="type-var">'a</span> <span class="keyword">&#8209;&gt;</span> (<span class="type-var">'a</span>, [ `InPhase of <span class="type-var">'p2</span> ], <span class="type-var">'p2</span>) <a href="index.html#type-t">t</a></code></div><div class="doc"><p>Finish the given phase</p></div></div><div class="spec val" id="val-return_phase_err"><a href="#val-return_phase_err" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>return_phase_err : <span class="type-var">'a</span> <a href="index.html#type-or_error">or_error</a> <span class="keyword">&#8209;&gt;</span> (<span class="type-var">'a</span>, [ `InPhase of <span class="type-var">'p2</span> ], <span class="type-var">'p2</span>) <a href="index.html#type-t">t</a></code></div><div class="doc"></div></div><div class="spec val" id="val-current_phase"><a href="#val-current_phase" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>current_phase : (<a href="index.html#type-any_phase">any_phase</a>, <span class="type-var">_</span>, <span class="type-var">'p2</span>) <a href="index.html#type-t">t</a></code></div><div class="doc"><p>Get the current phase</p></div></div><div class="spec val" id="val-with_phase"><a href="#val-with_phase" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>with_phase : (<span class="type-var">'a</span>, <span class="type-var">'p1</span>, <span class="type-var">'p2</span>) <a href="index.html#type-phase">phase</a> <span class="keyword">&#8209;&gt;</span> f:(unit <span class="keyword">&#8209;&gt;</span> <span class="type-var">'a</span>) <span class="keyword">&#8209;&gt;</span> (<span class="type-var">'a</span>, <span class="type-var">'p1</span>, <span class="type-var">'p2</span>) <a href="index.html#type-t">t</a></code></div><div class="doc"><p>Start phase, call <code class="code">f ()</code> to get the result, return its result
using <a href="index.html#val-return_phase">return_phase</a></p></div></div><div class="spec val" id="val-with_phase1"><a href="#val-with_phase1" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>with_phase1 : (<span class="type-var">'b</span>, <span class="type-var">'p1</span>, <span class="type-var">'p2</span>) <a href="index.html#type-phase">phase</a> <span class="keyword">&#8209;&gt;</span> f:(<span class="type-var">'a</span> <span class="keyword">&#8209;&gt;</span> <span class="type-var">'b</span>) <span class="keyword">&#8209;&gt;</span> <span class="type-var">'a</span> <span class="keyword">&#8209;&gt;</span> (<span class="type-var">'b</span>, <span class="type-var">'p1</span>, <span class="type-var">'p2</span>) <a href="index.html#type-t">t</a></code></div><div class="doc"></div></div><div class="spec val" id="val-with_phase2"><a href="#val-with_phase2" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>with_phase2 : (<span class="type-var">'c</span>, <span class="type-var">'p1</span>, <span class="type-var">'p2</span>) <a href="index.html#type-phase">phase</a> <span class="keyword">&#8209;&gt;</span> f:(<span class="type-var">'a</span> <span class="keyword">&#8209;&gt;</span> <span class="type-var">'b</span> <span class="keyword">&#8209;&gt;</span> <span class="type-var">'c</span>) <span class="keyword">&#8209;&gt;</span> <span class="type-var">'a</span> <span class="keyword">&#8209;&gt;</span> <span class="type-var">'b</span> <span class="keyword">&#8209;&gt;</span> (<span class="type-var">'c</span>, <span class="type-var">'p1</span>, <span class="type-var">'p2</span>) <a href="index.html#type-t">t</a></code></div><div class="doc"></div></div><div class="spec val" id="val-bind"><a href="#val-bind" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>bind : (<span class="type-var">'a</span>, <span class="type-var">'p_before</span>, <span class="type-var">'p_middle</span>) <a href="index.html#type-t">t</a> <span class="keyword">&#8209;&gt;</span> f:(<span class="type-var">'a</span> <span class="keyword">&#8209;&gt;</span> (<span class="type-var">'b</span>, <span class="type-var">'p_middle</span>, <span class="type-var">'p_after</span>) <a href="index.html#type-t">t</a>) <span class="keyword">&#8209;&gt;</span> (<span class="type-var">'b</span>, <span class="type-var">'p_before</span>, <span class="type-var">'p_after</span>) <a href="index.html#type-t">t</a></code></div><div class="doc"><p><code class="code">bind state f</code> calls <code class="code">f</code> to go one step further from <code class="code">state</code></p></div></div><div class="spec val" id="val-map"><a href="#val-map" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>map : (<span class="type-var">'a</span>, <span class="type-var">'p1</span>, <span class="type-var">'p2</span>) <a href="index.html#type-t">t</a> <span class="keyword">&#8209;&gt;</span> f:(<span class="type-var">'a</span> <span class="keyword">&#8209;&gt;</span> <span class="type-var">'b</span>) <span class="keyword">&#8209;&gt;</span> (<span class="type-var">'b</span>, <span class="type-var">'p1</span>, <span class="type-var">'p2</span>) <a href="index.html#type-t">t</a></code></div><div class="doc"><p>Map the current value</p></div></div><div class="spec val" id="val-fold_l"><a href="#val-fold_l" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>fold_l : f:(<span class="type-var">'a</span> <span class="keyword">&#8209;&gt;</span> <span class="type-var">'b</span> <span class="keyword">&#8209;&gt;</span> (<span class="type-var">'a</span>, <span class="type-var">'p</span>, <span class="type-var">'p</span>) <a href="index.html#type-t">t</a>) <span class="keyword">&#8209;&gt;</span> x:<span class="type-var">'a</span> <span class="keyword">&#8209;&gt;</span> <span class="type-var">'b</span> list <span class="keyword">&#8209;&gt;</span> (<span class="type-var">'a</span>, <span class="type-var">'p</span>, <span class="type-var">'p</span>) <a href="index.html#type-t">t</a></code></div><div class="doc"></div></div><div class="spec val" id="val-run_parallel"><a href="#val-run_parallel" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>run_parallel : (<a href="index.html#type-errcode">errcode</a>, <span class="type-var">'p1</span>, <span class="type-var">'p2</span>) <a href="index.html#type-t">t</a> list <span class="keyword">&#8209;&gt;</span> (<a href="index.html#type-errcode">errcode</a>, <span class="type-var">'p1</span>, <span class="type-var">'p2</span>) <a href="index.html#type-t">t</a></code></div><div class="doc"><p><code class="code">run_sequentiel l</code> runs each action of the list in succession,
restarting every time with the initial state (once an action
has finished, its state is discarded). Only the very last state
is kept.
If any errcode is non-zero, then the evaluation stops with this errcode</p></div></div><div class="spec module" id="module-Infix"><a href="#module-Infix" class="anchor"></a><div class="def module"><code><span class="keyword">module </span><a href="Infix/index.html">Infix</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></div><div class="doc"></div></div><div class="spec include"><div class="doc"></div><details open="open"><summary><span class="def"><code><span class="keyword">include </span><span class="keyword">module type of </span><a href="index.html#module-Infix">Infix</a></code></span></summary><div class="spec val" id="val-(&gt;&gt;=)"><a href="#val-(&gt;&gt;=)" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>(&gt;&gt;=) : (<span class="type-var">'a</span>, <span class="type-var">'p1</span>, <span class="type-var">'p2</span>) <a href="index.html#type-t">t</a> <span class="keyword">&#8209;&gt;</span> (<span class="type-var">'a</span> <span class="keyword">&#8209;&gt;</span> (<span class="type-var">'b</span>, <span class="type-var">'p2</span>, <span class="type-var">'p3</span>) <a href="index.html#type-t">t</a>) <span class="keyword">&#8209;&gt;</span> (<span class="type-var">'b</span>, <span class="type-var">'p1</span>, <span class="type-var">'p3</span>) <a href="index.html#type-t">t</a></code></div><div class="doc"></div></div><div class="spec val" id="val-(&gt;&gt;?=)"><a href="#val-(&gt;&gt;?=)" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>(&gt;&gt;?=) : <span class="type-var">'a</span> <a href="index.html#type-or_error">or_error</a> <span class="keyword">&#8209;&gt;</span> (<span class="type-var">'a</span> <span class="keyword">&#8209;&gt;</span> (<span class="type-var">'b</span>, <span class="type-var">'p1</span>, <span class="type-var">'p2</span>) <a href="index.html#type-t">t</a>) <span class="keyword">&#8209;&gt;</span> (<span class="type-var">'b</span>, <span class="type-var">'p1</span>, <span class="type-var">'p2</span>) <a href="index.html#type-t">t</a></code></div><div class="doc"></div></div><div class="spec val" id="val-(&gt;|=)"><a href="#val-(&gt;|=)" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>(&gt;|=) : (<span class="type-var">'a</span>, <span class="type-var">'p1</span>, <span class="type-var">'p2</span>) <a href="index.html#type-t">t</a> <span class="keyword">&#8209;&gt;</span> (<span class="type-var">'a</span> <span class="keyword">&#8209;&gt;</span> <span class="type-var">'b</span>) <span class="keyword">&#8209;&gt;</span> (<span class="type-var">'b</span>, <span class="type-var">'p1</span>, <span class="type-var">'p2</span>) <a href="index.html#type-t">t</a></code></div><div class="doc"></div></div></details></div><div class="spec val" id="val-empty_state"><a href="#val-empty_state" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>empty_state : <a href="../../../logtk/Logtk/Flex_state/index.html#type-t">Logtk.Flex_state.t</a></code></div><div class="doc"></div></div><div class="spec val" id="val-get"><a href="#val-get" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>get : (<a href="../../../logtk/Logtk/Flex_state/index.html#type-t">Logtk.Flex_state.t</a>, <span class="type-var">'a</span>, <span class="type-var">'a</span>) <a href="index.html#type-t">t</a></code></div><div class="doc"></div></div><div class="spec val" id="val-set"><a href="#val-set" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>set : <a href="../../../logtk/Logtk/Flex_state/index.html#type-t">Logtk.Flex_state.t</a> <span class="keyword">&#8209;&gt;</span> (unit, <span class="type-var">'a</span>, <span class="type-var">'a</span>) <a href="index.html#type-t">t</a></code></div><div class="doc"></div></div><div class="spec val" id="val-get_key"><a href="#val-get_key" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>get_key : <span class="type-var">'a</span> <a href="../../../logtk/Logtk/Flex_state/index.html#type-key">Logtk.Flex_state.key</a> <span class="keyword">&#8209;&gt;</span> (<span class="type-var">'a</span>, <span class="type-var">'b</span>, <span class="type-var">'b</span>) <a href="index.html#type-t">t</a></code></div><div class="doc"><p><code class="code">get_key k</code> returns the value associated with <code class="code">k</code> in the state</p></div></div><div class="spec val" id="val-set_key"><a href="#val-set_key" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>set_key : <span class="type-var">'a</span> <a href="../../../logtk/Logtk/Flex_state/index.html#type-key">Logtk.Flex_state.key</a> <span class="keyword">&#8209;&gt;</span> <span class="type-var">'a</span> <span class="keyword">&#8209;&gt;</span> (unit, <span class="type-var">'b</span>, <span class="type-var">'b</span>) <a href="index.html#type-t">t</a></code></div><div class="doc"></div></div><div class="spec val" id="val-update"><a href="#val-update" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>update : f:(<a href="../../../logtk/Logtk/Flex_state/index.html#type-t">Logtk.Flex_state.t</a> <span class="keyword">&#8209;&gt;</span> <a href="../../../logtk/Logtk/Flex_state/index.html#type-t">Logtk.Flex_state.t</a>) <span class="keyword">&#8209;&gt;</span> (unit, <span class="type-var">'a</span>, <span class="type-var">'a</span>) <a href="index.html#type-t">t</a></code></div><div class="doc"><p><code class="code">update ~f</code> changes the state using <code class="code">f</code></p></div></div><div class="spec val" id="val-run_with"><a href="#val-run_with" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>run_with : <a href="../../../logtk/Logtk/Flex_state/index.html#type-t">Logtk.Flex_state.t</a> <span class="keyword">&#8209;&gt;</span> (<span class="type-var">'a</span>, [ `Init ], [ `Exit ]) <a href="index.html#type-t">t</a> <span class="keyword">&#8209;&gt;</span> (<a href="../../../logtk/Logtk/Flex_state/index.html#type-t">Logtk.Flex_state.t</a><span class="keyword"> * </span><span class="type-var">'a</span>) <a href="index.html#type-or_error">or_error</a></code></div><div class="doc"><p><code class="code">run_with state m</code> executes the actions in <code class="code">m</code> starting with <code class="code">state</code>,
returning some value (or error) and the final state.</p></div></div><div class="spec val" id="val-run"><a href="#val-run" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>run : (<span class="type-var">'a</span>, [ `Init ], [ `Exit ]) <a href="index.html#type-t">t</a> <span class="keyword">&#8209;&gt;</span> (<a href="../../../logtk/Logtk/Flex_state/index.html#type-t">Logtk.Flex_state.t</a><span class="keyword"> * </span><span class="type-var">'a</span>) <a href="index.html#type-or_error">or_error</a></code></div><div class="doc"><p><code class="code">run m</code> is <code class="code">run_with empty_state m</code></p></div></div><div class="spec module" id="module-Key"><a href="#module-Key" class="anchor"></a><div class="def module"><code><span class="keyword">module </span><a href="Key/index.html">Key</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></div><div class="doc"></div></div></body></html>