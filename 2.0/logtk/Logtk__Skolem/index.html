<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Logtk__Skolem (logtk.Logtk__Skolem)</title><link rel="stylesheet" href="../../odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 1.5.1"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../index.html">Up</a> – <a href="../index.html">logtk</a> &#x00BB; Logtk__Skolem</nav><h1>Module <code>Logtk__Skolem</code></h1><h2 id="skolem-symbols"><a href="#skolem-symbols" class="anchor"></a>Skolem symbols</h2><nav class="toc"><ul><li><a href="#skolemization">Skolemization</a></li><li><a href="#definitions-of-formulas">Definitions of Formulas</a></li><li><a href="#attribute">Attribute</a></li></ul></nav></header><aside><p>A Skolem symbol is a witness for an existential property, used in <code>CNF</code>.</p><p>Typically, we transform <code>∃x. p(x)</code> into <code>p(sk_x)</code> where <code>sk_x</code> is a fresh Skolem constant, &quot;witnessing&quot; the existential property.</p></aside><dl><dt class="spec type" id="type-type_"><a href="#type-type_" class="anchor"></a><code><span class="keyword">type</span> type_</code><code> = <a href="../Logtk/TypedSTerm/index.html#type-t">Logtk.TypedSTerm.t</a></code></dt><dt class="spec type" id="type-term"><a href="#type-term" class="anchor"></a><code><span class="keyword">type</span> term</code><code> = <a href="../Logtk/TypedSTerm/index.html#type-t">Logtk.TypedSTerm.t</a></code></dt><dt class="spec type" id="type-form"><a href="#type-form" class="anchor"></a><code><span class="keyword">type</span> form</code><code> = <a href="../Logtk/TypedSTerm/index.html#type-t">Logtk.TypedSTerm.t</a></code></dt><dt class="spec type" id="type-ctx"><a href="#type-ctx" class="anchor"></a><code><span class="keyword">type</span> ctx</code></dt><dd><p>Context needed to create new symbols</p></dd></dl><dl><dt class="spec value" id="val-create"><a href="#val-create" class="anchor"></a><code><span class="keyword">val</span> create : <span>?&#8288;prefix:string</span> <span>&#45;&gt;</span> <span>?&#8288;prop_prefix:string</span> <span>&#45;&gt;</span> <span>?&#8288;on_new:<span>(<a href="../Logtk/ID/index.html#type-t">Logtk.ID.t</a> <span>&#45;&gt;</span> <a href="index.html#type-type_">type_</a> <span>&#45;&gt;</span> unit)</span></span> <span>&#45;&gt;</span> unit <span>&#45;&gt;</span> <a href="index.html#type-ctx">ctx</a></code></dt><dd><p>New skolem contex. A prefix can be provided, which will be added to all newly created skolem symbols.</p><dl><dt>parameter prefix</dt><dd><p>used to name skolem functions/constants</p></dd></dl><dl><dt>parameter prop_prefix</dt><dd><p>used to name sub-formulas during CNF</p></dd></dl><dl><dt>parameter on_id</dt><dd><p>function called whenever a Skolem symbol is created</p></dd></dl></dd></dl><dl><dt class="spec value" id="val-fresh_skolem"><a href="#val-fresh_skolem" class="anchor"></a><code><span class="keyword">val</span> fresh_skolem : <span>ctx:<a href="index.html#type-ctx">ctx</a></span> <span>&#45;&gt;</span> <span>ty:<a href="index.html#type-type_">type_</a></span> <span>&#45;&gt;</span> <a href="../Logtk/ID/index.html#type-t">Logtk.ID.t</a></code></dt><dd><p>Just obtain a fresh skolem symbol. It is also declared in the inner signature.</p></dd></dl><dl><dt class="spec value" id="val-fresh_skolem_prefix"><a href="#val-fresh_skolem_prefix" class="anchor"></a><code><span class="keyword">val</span> fresh_skolem_prefix : <span>ctx:<a href="index.html#type-ctx">ctx</a></span> <span>&#45;&gt;</span> <span>ty:<a href="index.html#type-type_">type_</a></span> <span>&#45;&gt;</span> string <span>&#45;&gt;</span> <a href="../Logtk/ID/index.html#type-t">Logtk.ID.t</a></code></dt><dd><p>Fresh symbol with a different name</p></dd></dl><dl><dt class="spec value" id="val-pop_new_skolem_symbols"><a href="#val-pop_new_skolem_symbols" class="anchor"></a><code><span class="keyword">val</span> pop_new_skolem_symbols : <span>ctx:<a href="index.html#type-ctx">ctx</a></span> <span>&#45;&gt;</span> <span><span>(<a href="../Logtk/ID/index.html#type-t">Logtk.ID.t</a> * <a href="index.html#type-type_">type_</a>)</span> list</span></code></dt><dd><p>Remove and return the list of newly created Skolem symbols</p></dd></dl><dl><dt class="spec value" id="val-counter"><a href="#val-counter" class="anchor"></a><code><span class="keyword">val</span> counter : <a href="index.html#type-ctx">ctx</a> <span>&#45;&gt;</span> int</code></dt><dd><p>Monotonic counter, increased at every definition</p></dd></dl><section><header><h3 id="skolemization"><a href="#skolemization" class="anchor"></a>Skolemization</h3></header><dl><dt class="spec value" id="val-skolem_form"><a href="#val-skolem_form" class="anchor"></a><code><span class="keyword">val</span> skolem_form : <span>ctx:<a href="index.html#type-ctx">ctx</a></span> <span>&#45;&gt;</span> <span><span>(<a href="index.html#type-type_">type_</a>, <a href="index.html#type-term">term</a>)</span> <a href="../Logtk/Var/Subst/index.html#type-t">Logtk.Var.Subst.t</a></span> <span>&#45;&gt;</span> <span><a href="index.html#type-type_">type_</a> <a href="../Logtk/Var/index.html#type-t">Logtk.Var.t</a></span> <span>&#45;&gt;</span> <a href="index.html#type-form">form</a> <span>&#45;&gt;</span> <a href="index.html#type-term">term</a></code></dt><dd><p><code>skolem_form ~ctx subst var f</code> returns a term <code>t</code> made of a new symbol applied to the free variables of <code>f</code> that do not occur in <code>subst</code>. This term should replace the variable <code>var</code>, occurring free in <code>f</code>.</p><p>For instance, <code>skolem_form ~ctx ø Y p(a, b, Y, X)</code> will yield something like <code>sk42(X)</code>.</p></dd></dl></section><section><header><h3 id="definitions-of-formulas"><a href="#definitions-of-formulas" class="anchor"></a>Definitions of Formulas</h3></header><dl><dt class="spec type" id="type-polarity"><a href="#type-polarity" class="anchor"></a><code><span class="keyword">type</span> polarity</code> = <code>[ </code><table class="variant"><tr id="type-polarity.Pos" class="anchored"><td class="def constructor"><a href="#type-polarity.Pos" class="anchor"></a><code>| </code><code>`Pos</code></td></tr><tr id="type-polarity.Neg" class="anchored"><td class="def constructor"><a href="#type-polarity.Neg" class="anchor"></a><code>| </code><code>`Neg</code></td></tr><tr id="type-polarity.Both" class="anchored"><td class="def constructor"><a href="#type-polarity.Both" class="anchor"></a><code>| </code><code>`Both</code></td></tr></table><code> ]</code></dt></dl><dl><dt class="spec value" id="val-pp_polarity"><a href="#val-pp_polarity" class="anchor"></a><code><span class="keyword">val</span> pp_polarity : <span><a href="index.html#type-polarity">polarity</a> CCFormat.printer</span></code></dt></dl><dl><dt class="spec type" id="type-form_definition"><a href="#type-form_definition" class="anchor"></a><code><span class="keyword">type</span> form_definition</code><code> = <span class="keyword">private</span> </code><code>{</code><table class="record"><tr id="type-form_definition.form" class="anchored"><td class="def field"><a href="#type-form_definition.form" class="anchor"></a><code>form : <a href="index.html#type-form">form</a>;</code></td></tr><tr id="type-form_definition.proxy_id" class="anchored"><td class="def field"><a href="#type-form_definition.proxy_id" class="anchor"></a><code>proxy_id : <a href="../Logtk/ID/index.html#type-t">Logtk.ID.t</a>;</code></td></tr><tr id="type-form_definition.proxy" class="anchored"><td class="def field"><a href="#type-form_definition.proxy" class="anchor"></a><code>proxy : <a href="index.html#type-term">term</a>;</code></td></tr><tr id="type-form_definition.proxy_ty" class="anchored"><td class="def field"><a href="#type-form_definition.proxy_ty" class="anchor"></a><code>proxy_ty : <a href="index.html#type-type_">type_</a>;</code></td></tr><tr id="type-form_definition.rw_rules" class="anchored"><td class="def field"><a href="#type-form_definition.rw_rules" class="anchor"></a><code>rw_rules : bool;</code></td></tr><tr id="type-form_definition.polarity" class="anchored"><td class="def field"><a href="#type-form_definition.polarity" class="anchor"></a><code>polarity : <a href="index.html#type-polarity">polarity</a>;</code></td></tr><tr id="type-form_definition.proof" class="anchored"><td class="def field"><a href="#type-form_definition.proof" class="anchor"></a><code>proof : <a href="../Logtk/Proof/index.html#type-step">Logtk.Proof.step</a>;</code></td></tr><tr id="type-form_definition.as_stmt" class="anchored"><td class="def field"><a href="#type-form_definition.as_stmt" class="anchor"></a><code>as_stmt : <span><span><a href="../Logtk/Statement/index.html#type-input_t">Logtk.Statement.input_t</a> list</span> lazy_t</span>;</code></td></tr></table><code>}</code></dt></dl><dl><dt class="spec value" id="val-pp_form_definition"><a href="#val-pp_form_definition" class="anchor"></a><code><span class="keyword">val</span> pp_form_definition : <span><a href="index.html#type-form_definition">form_definition</a> CCFormat.printer</span></code></dt><dt class="spec value" id="val-define_form"><a href="#val-define_form" class="anchor"></a><code><span class="keyword">val</span> define_form : <span>?&#8288;pattern:string</span> <span>&#45;&gt;</span> <span>ctx:<a href="index.html#type-ctx">ctx</a></span> <span>&#45;&gt;</span> <span>rw_rules:bool</span> <span>&#45;&gt;</span> <span>polarity:<a href="index.html#type-polarity">polarity</a></span> <span>&#45;&gt;</span> <span>parents:<span><a href="../Logtk/Proof/Parent/index.html#type-t">Logtk.Proof.Parent.t</a> list</span></span> <span>&#45;&gt;</span> <a href="index.html#type-form">form</a> <span>&#45;&gt;</span> <a href="index.html#type-form_definition">form_definition</a></code></dt><dd><p><code>define ~ctx f</code> returns a new predicate for <code>f</code>, with the free variables of <code>f</code> as arguments.</p><dl><dt>returns</dt><dd><p>the atomic formula that stands for <code>f</code>.</p></dd></dl></dd></dl><dl><dt class="spec type" id="type-term_definition"><a href="#type-term_definition" class="anchor"></a><code><span class="keyword">type</span> term_definition</code><code> = <span class="keyword">private</span> </code><code>{</code><table class="record"><tr id="type-term_definition.td_id" class="anchored"><td class="def field"><a href="#type-term_definition.td_id" class="anchor"></a><code>td_id : <a href="../Logtk/ID/index.html#type-t">Logtk.ID.t</a>;</code></td></tr><tr id="type-term_definition.td_ty" class="anchored"><td class="def field"><a href="#type-term_definition.td_ty" class="anchor"></a><code>td_ty : <a href="index.html#type-type_">type_</a>;</code></td></tr><tr id="type-term_definition.td_rules" class="anchored"><td class="def field"><a href="#type-term_definition.td_rules" class="anchor"></a><code>td_rules : <span><span><span>(<a href="index.html#type-form">form</a>, <a href="index.html#type-term">term</a>, <a href="index.html#type-type_">type_</a>)</span> <a href="../Logtk/Statement/index.html#type-def_rule">Logtk.Statement.def_rule</a></span> list</span>;</code></td></tr><tr id="type-term_definition.td_as_def" class="anchored"><td class="def field"><a href="#type-term_definition.td_as_def" class="anchor"></a><code>td_as_def : <span><span>(<a href="index.html#type-form">form</a>, <a href="index.html#type-term">term</a>, <a href="index.html#type-type_">type_</a>)</span> <a href="../Logtk/Statement/index.html#type-def">Logtk.Statement.def</a></span>;</code></td></tr><tr id="type-term_definition.td_proof" class="anchored"><td class="def field"><a href="#type-term_definition.td_proof" class="anchor"></a><code>td_proof : <a href="../Logtk/Proof/index.html#type-step">Logtk.Proof.step</a>;</code></td></tr><tr id="type-term_definition.td_stmt" class="anchored"><td class="def field"><a href="#type-term_definition.td_stmt" class="anchor"></a><code>td_stmt : <span><span><a href="../Logtk/Statement/index.html#type-input_t">Logtk.Statement.input_t</a> list</span> lazy_t</span>;</code></td></tr></table><code>}</code></dt></dl><dl><dt class="spec value" id="val-define_term"><a href="#val-define_term" class="anchor"></a><code><span class="keyword">val</span> define_term : <span>?&#8288;pattern:string</span> <span>&#45;&gt;</span> <span>ctx:<a href="index.html#type-ctx">ctx</a></span> <span>&#45;&gt;</span> <span>parents:<span><a href="../Logtk/Proof/Parent/index.html#type-t">Logtk.Proof.Parent.t</a> list</span></span> <span>&#45;&gt;</span> <span><span>(<span><a href="index.html#type-term">term</a> list</span> * <a href="index.html#type-term">term</a>)</span> list</span> <span>&#45;&gt;</span> <a href="index.html#type-term_definition">term_definition</a></code></dt><dd><p><code>define_term l</code> introduces a new function symbol <code>f</code> that is defined by:</p><ul><li>for each <code>args, rhs</code> in <code>l</code>, <code>f args = rhs</code></li></ul><dl><dt>parameter pattern</dt><dd><p>used to name the new function in an informative way</p></dd></dl></dd></dl><dl><dt class="spec type" id="type-definition"><a href="#type-definition" class="anchor"></a><code><span class="keyword">type</span> definition</code><code> = </code><table class="variant"><tr id="type-definition.Def_form" class="anchored"><td class="def constructor"><a href="#type-definition.Def_form" class="anchor"></a><code>| </code><code><span class="constructor">Def_form</span> <span class="keyword">of</span> <a href="index.html#type-form_definition">form_definition</a></code></td></tr><tr id="type-definition.Def_term" class="anchored"><td class="def constructor"><a href="#type-definition.Def_term" class="anchor"></a><code>| </code><code><span class="constructor">Def_term</span> <span class="keyword">of</span> <a href="index.html#type-term_definition">term_definition</a></code></td></tr></table></dt></dl><dl><dt class="spec value" id="val-pp_definition"><a href="#val-pp_definition" class="anchor"></a><code><span class="keyword">val</span> pp_definition : <span><a href="index.html#type-definition">definition</a> CCFormat.printer</span></code></dt><dt class="spec value" id="val-new_definitions"><a href="#val-new_definitions" class="anchor"></a><code><span class="keyword">val</span> new_definitions : <span>ctx:<a href="index.html#type-ctx">ctx</a></span> <span>&#45;&gt;</span> <span><a href="index.html#type-definition">definition</a> list</span></code></dt><dd><p>Return the new definitions, without side effects</p></dd></dl><dl><dt class="spec value" id="val-pop_new_definitions"><a href="#val-pop_new_definitions" class="anchor"></a><code><span class="keyword">val</span> pop_new_definitions : <span>ctx:<a href="index.html#type-ctx">ctx</a></span> <span>&#45;&gt;</span> <span><a href="index.html#type-definition">definition</a> list</span></code></dt><dd><p>List of new definitions, that were introduced since the last call to <a href="index.html#val-new_definitions"><code>new_definitions</code></a>. The list can be obtained only once, after which those definitions are not &quot;new&quot; anymore.</p><p>Will call <code>remove_def</code> so there is no risk of re-using a definition with a new polarity.</p></dd></dl><dl><dt class="spec value" id="val-def_as_stmt"><a href="#val-def_as_stmt" class="anchor"></a><code><span class="keyword">val</span> def_as_stmt : <a href="index.html#type-definition">definition</a> <span>&#45;&gt;</span> <span><a href="../Logtk/Statement/index.html#type-input_t">Logtk.Statement.input_t</a> list</span></code></dt><dd><p>Project the definition into a list of statements</p></dd></dl></section><section><header><h3 id="attribute"><a href="#attribute" class="anchor"></a>Attribute</h3></header></section></div></body></html>