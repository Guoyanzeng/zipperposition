<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Logtk__Signal (logtk.Logtk__Signal)</title><link rel="stylesheet" href="../../odoc.css"/><meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../index.html">Up</a> â€“ <a href="../index.html">logtk</a> &#x00BB; Logtk__Signal</nav><h1>Module <code>Logtk__Signal</code></h1><h2 id="basic-signal-for-multiple-callbacks-observer"><a href="#basic-signal-for-multiple-callbacks-observer" class="anchor"></a>Basic signal for multiple-callbacks Observer</h2><nav class="toc"><ul><li><a href="#combinators">Combinators</a></li></ul></nav></header><aside><p>A signal can be used to decouple the (unique) emitter of some event, and (multiple) receivers for this event. The signal is typically created by the emitter (in the same module), and exposed; then, observers can register to the signal and be notified every time an event (a value) is emitted through the signal.</p></aside><dl><dt class="spec type" id="type-t"><a href="#type-t" class="anchor"></a><code><span class="keyword">type </span>'a t</code></dt><dd><p>Signal of type 'a</p></dd></dl><dl><dt class="spec value" id="val-create"><a href="#val-create" class="anchor"></a><code><span class="keyword">val </span>create : unit <span>&#45;&gt;</span> <span class="type-var">'a</span> <a href="index.html#type-t">t</a></code></dt><dd><p>New signal</p></dd></dl><dl><dt class="spec value" id="val-send"><a href="#val-send" class="anchor"></a><code><span class="keyword">val </span>send : <span class="type-var">'a</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <span class="type-var">'a</span> <span>&#45;&gt;</span> unit</code></dt><dd><p>Trigger the signal</p></dd></dl><dl><dt class="spec type" id="type-handler_response"><a href="#type-handler_response" class="anchor"></a><code><span class="keyword">type </span>handler_response</code><code><span class="keyword"> = </span></code><table class="variant"><tr id="type-handler_response.ContinueListening" class="anchored"><td class="def constructor"><a href="#type-handler_response.ContinueListening" class="anchor"></a><code><span class="keyword">| </span></code><code><span class="constructor">ContinueListening</span></code></td></tr><tr id="type-handler_response.StopListening" class="anchored"><td class="def constructor"><a href="#type-handler_response.StopListening" class="anchor"></a><code><span class="keyword">| </span></code><code><span class="constructor">StopListening</span></code></td></tr></table></dt></dl><dl><dt class="spec value" id="val-on"><a href="#val-on" class="anchor"></a><code><span class="keyword">val </span>on : <span class="type-var">'a</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> (<span class="type-var">'a</span> <span>&#45;&gt;</span> <a href="index.html#type-handler_response">handler_response</a>) <span>&#45;&gt;</span> unit</code></dt><dd><p>Register a handler to the signal; the handler returns <code>true</code> if it wants to continue being notified, <code>false</code> otherwise</p></dd></dl><dl><dt class="spec value" id="val-on_every"><a href="#val-on_every" class="anchor"></a><code><span class="keyword">val </span>on_every : <span class="type-var">'a</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> (<span class="type-var">'a</span> <span>&#45;&gt;</span> <span class="type-var">_</span>) <span>&#45;&gt;</span> unit</code></dt><dd><p><code>on_every s f</code> calls <code>f</code> on every event signalled on <code>s</code></p></dd></dl><dl><dt class="spec value" id="val-once"><a href="#val-once" class="anchor"></a><code><span class="keyword">val </span>once : <span class="type-var">'a</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> (<span class="type-var">'a</span> <span>&#45;&gt;</span> <span class="type-var">'b</span>) <span>&#45;&gt;</span> unit</code></dt><dd><p>Register a handler to be called only once</p></dd></dl><dl><dt class="spec value" id="val-propagate"><a href="#val-propagate" class="anchor"></a><code><span class="keyword">val </span>propagate : <span class="type-var">'a</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <span class="type-var">'a</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> unit</code></dt><dd><p><code>propagate a b</code> propagates all values of <code>a</code> into <code>b</code>. Cycles are not detected.</p></dd></dl><section><header><h3 id="combinators"><a href="#combinators" class="anchor"></a>Combinators</h3></header><dl><dt class="spec value" id="val-map"><a href="#val-map" class="anchor"></a><code><span class="keyword">val </span>map : <span class="type-var">'a</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> (<span class="type-var">'a</span> <span>&#45;&gt;</span> <span class="type-var">'b</span>) <span>&#45;&gt;</span> <span class="type-var">'b</span> <a href="index.html#type-t">t</a></code></dt><dt class="spec value" id="val-filter"><a href="#val-filter" class="anchor"></a><code><span class="keyword">val </span>filter : <span class="type-var">'a</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> (<span class="type-var">'a</span> <span>&#45;&gt;</span> bool) <span>&#45;&gt;</span> <span class="type-var">'a</span> <a href="index.html#type-t">t</a></code></dt><dt class="spec value" id="val-set_exn_handler"><a href="#val-set_exn_handler" class="anchor"></a><code><span class="keyword">val </span>set_exn_handler : (exn <span>&#45;&gt;</span> unit) <span>&#45;&gt;</span> unit</code></dt><dd><p>Set the handler that is called upon an exception in a Signal. The default handler does nothing. If the handler raises an exception, it is not caught!</p></dd></dl></section></div></body></html>