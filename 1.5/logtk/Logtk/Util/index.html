<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Util (logtk.Logtk.Util)</title><link rel="stylesheet" href="../../../odoc.css"/><meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../index.html">Up</a> – <a href="../../index.html">logtk</a> &#x00BB; <a href="../index.html">Logtk</a> &#x00BB; Util</nav><h1>Module <code>Logtk.Util</code></h1></header><section><header><h2 id="some-helpers"><a href="#some-helpers" class="anchor"></a>Some helpers</h2></header><aside><p>Various helpers for the provers.</p><p>It provides counters for statistics, basic profilers, helper functions, debugging functions…</p></aside><section><header><h3 id="time-facilities"><a href="#time-facilities" class="anchor"></a>Time facilities</h3></header><dl><dt class="spec value" id="val-total_time_s"><a href="#val-total_time_s" class="anchor"></a><code><span class="keyword">val </span>total_time_s : unit <span>&#45;&gt;</span> float</code></dt><dd><p>time elapsed since start of program, in seconds</p></dd></dl></section><section><header><h3 id="misc"><a href="#misc" class="anchor"></a>Misc</h3></header><dl><dt class="spec module" id="module-Section"><a href="#module-Section" class="anchor"></a><code><span class="keyword">module </span><a href="Section/index.html">Section</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></dt><dd><p>Debug section</p></dd></dl><dl><dt class="spec value" id="val-set_debug"><a href="#val-set_debug" class="anchor"></a><code><span class="keyword">val </span>set_debug : int <span>&#45;&gt;</span> unit</code></dt><dd><p>Set debug level of <code>Section.root</code></p></dd></dl><dl><dt class="spec value" id="val-get_debug"><a href="#val-get_debug" class="anchor"></a><code><span class="keyword">val </span>get_debug : unit <span>&#45;&gt;</span> int</code></dt><dd><p>Set debug level of <code>Section.root</code></p><p>Current debug level for <code>Section.root</code></p></dd></dl><dl><dt class="spec value" id="val-break_on_debug"><a href="#val-break_on_debug" class="anchor"></a><code><span class="keyword">val </span>break_on_debug : bool Pervasives.ref</code></dt><dd><p>Shall we wait for user input after each debug message?</p></dd></dl><dl><dt class="spec value" id="val-debugf"><a href="#val-debugf" class="anchor"></a><code><span class="keyword">val </span>debugf : ?&#8288;section:<a href="Section/index.html#type-t">Section.t</a> <span>&#45;&gt;</span> int <span>&#45;&gt;</span> (<span class="type-var">'a</span>, Format.formatter, unit, unit) Pervasives.format4 <span>&#45;&gt;</span> (<span class="type-var">'a</span> <span>&#45;&gt;</span> unit) <span>&#45;&gt;</span> unit</code></dt><dd><p>Print a debug message, with the given section and verbosity level. The message might be dropped if its level is too high.</p></dd></dl><dl><dt class="spec value" id="val-debug"><a href="#val-debug" class="anchor"></a><code><span class="keyword">val </span>debug : ?&#8288;section:<a href="Section/index.html#type-t">Section.t</a> <span>&#45;&gt;</span> int <span>&#45;&gt;</span> string <span>&#45;&gt;</span> unit</code></dt><dd><p>Cheap non-formatting version of <a href="index.html#val-debugf"><code>debugf</code></a></p></dd></dl><dl><dt class="spec value" id="val-ksprintf_noc"><a href="#val-ksprintf_noc" class="anchor"></a><code><span class="keyword">val </span>ksprintf_noc : f:(string <span>&#45;&gt;</span> <span class="type-var">'a</span>) <span>&#45;&gt;</span> (<span class="type-var">'b</span>, Format.formatter, unit, <span class="type-var">'a</span>) Pervasives.format4 <span>&#45;&gt;</span> <span class="type-var">'b</span></code></dt><dd><p>Same as <code>CCFormat.ksprintf</code>, but without colors</p></dd></dl><dl><dt class="spec value" id="val-err_spf"><a href="#val-err_spf" class="anchor"></a><code><span class="keyword">val </span>err_spf : (<span class="type-var">'b</span>, Format.formatter, unit, string) Pervasives.format4 <span>&#45;&gt;</span> <span class="type-var">'b</span></code></dt><dd><p>Version of <code>sprintf</code> that adds a colored &quot;error&quot; prefix</p></dd></dl><dl><dt class="spec value" id="val-warn"><a href="#val-warn" class="anchor"></a><code><span class="keyword">val </span>warn : string <span>&#45;&gt;</span> unit</code></dt><dd><p>Emit warning</p></dd></dl><dl><dt class="spec value" id="val-warnf"><a href="#val-warnf" class="anchor"></a><code><span class="keyword">val </span>warnf : (<span class="type-var">'a</span>, Format.formatter, unit, unit) Pervasives.format4 <span>&#45;&gt;</span> <span class="type-var">'a</span></code></dt><dd><p>Emit warning, with formatting</p></dd></dl><dl><dt class="spec exception" id="exception-Error"><a href="#exception-Error" class="anchor"></a><code><span class="keyword">exception </span></code><code><span class="exception">Error</span><span class="keyword"> of </span>string<span class="keyword"> * </span>string</code></dt><dd><p>generalist error that do not really belong elsewhere. <code>Error (where,what)</code> means that error <code>what</code> was raised from <code>where</code>.</p></dd></dl><dl><dt class="spec value" id="val-error"><a href="#val-error" class="anchor"></a><code><span class="keyword">val </span>error : where:string <span>&#45;&gt;</span> string <span>&#45;&gt;</span> <span class="type-var">'a</span></code></dt><dd><p><code>error msg</code> raises <code>Error msg</code></p><dl><dt>raises Error</dt><dd><p>duh</p></dd></dl></dd></dl><dl><dt class="spec value" id="val-errorf"><a href="#val-errorf" class="anchor"></a><code><span class="keyword">val </span>errorf : where:string <span>&#45;&gt;</span> (<span class="type-var">'b</span>, Format.formatter, unit, <span class="type-var">'a</span>) Pervasives.format4 <span>&#45;&gt;</span> <span class="type-var">'b</span></code></dt><dd><p>Formatting version of <a href="index.html#val-error"><code>error</code></a></p></dd></dl><dl><dt class="spec value" id="val-pp_pos"><a href="#val-pp_pos" class="anchor"></a><code><span class="keyword">val </span>pp_pos : Lexing.position <span>&#45;&gt;</span> string</code></dt><dt class="spec value" id="val-set_memory_limit"><a href="#val-set_memory_limit" class="anchor"></a><code><span class="keyword">val </span>set_memory_limit : int <span>&#45;&gt;</span> unit</code></dt><dd><p>Limit the amount of memory available to the process (in MB)</p></dd></dl><dl><dt class="spec value" id="val-set_time_limit"><a href="#val-set_time_limit" class="anchor"></a><code><span class="keyword">val </span>set_time_limit : int <span>&#45;&gt;</span> unit</code></dt><dd><p>Limit the CPU time available to the process (in seconds)</p></dd></dl></section><section><header><h3 id="ocaml-stack"><a href="#ocaml-stack" class="anchor"></a>OCaml Stack</h3><p>requires <code>ocaml &gt;= 4.01</code></p><dl><dt>since</dt><dd>0.8</dd></dl></header><div class="spec module" id="module-Exn"><a href="#module-Exn" class="anchor"></a><code><span class="keyword">module </span><a href="Exn/index.html">Exn</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></div></section><section><header><h3 id="profiling-facilities"><a href="#profiling-facilities" class="anchor"></a>profiling facilities</h3></header><dl><dt class="spec type" id="type-profiler"><a href="#type-profiler" class="anchor"></a><code><span class="keyword">type </span>profiler</code></dt></dl><dl><dt class="spec value" id="val-enable_profiling"><a href="#val-enable_profiling" class="anchor"></a><code><span class="keyword">val </span>enable_profiling : bool Pervasives.ref</code></dt><dd><p>Enable/disable profiling</p></dd></dl><dl><dt class="spec value" id="val-mk_profiler"><a href="#val-mk_profiler" class="anchor"></a><code><span class="keyword">val </span>mk_profiler : string <span>&#45;&gt;</span> <a href="index.html#type-profiler">profiler</a></code></dt><dd><p>Enable/disable profiling</p><p>Create a named profiler</p></dd></dl><dl><dt class="spec value" id="val-enter_prof"><a href="#val-enter_prof" class="anchor"></a><code><span class="keyword">val </span>enter_prof : <a href="index.html#type-profiler">profiler</a> <span>&#45;&gt;</span> unit</code></dt><dd><p>Create a named profiler</p><p>Enter the profiler</p></dd></dl><dl><dt class="spec value" id="val-exit_prof"><a href="#val-exit_prof" class="anchor"></a><code><span class="keyword">val </span>exit_prof : <a href="index.html#type-profiler">profiler</a> <span>&#45;&gt;</span> unit</code></dt><dd><p>Enter the profiler</p><p>Exit the profiler</p></dd></dl><dl><dt class="spec value" id="val-with_prof"><a href="#val-with_prof" class="anchor"></a><code><span class="keyword">val </span>with_prof : <a href="index.html#type-profiler">profiler</a> <span>&#45;&gt;</span> (<span class="type-var">'a</span> <span>&#45;&gt;</span> <span class="type-var">'b</span>) <span>&#45;&gt;</span> <span class="type-var">'a</span> <span>&#45;&gt;</span> <span class="type-var">'b</span></code></dt><dd><p>Exit the profiler</p></dd></dl></section><section><header><h3 id="runtime-statistics"><a href="#runtime-statistics" class="anchor"></a>Runtime statistics</h3></header><dl><dt class="spec type" id="type-stat"><a href="#type-stat" class="anchor"></a><code><span class="keyword">type </span>stat</code></dt></dl><dl><dt class="spec value" id="val-mk_stat"><a href="#val-mk_stat" class="anchor"></a><code><span class="keyword">val </span>mk_stat : string <span>&#45;&gt;</span> <a href="index.html#type-stat">stat</a></code></dt><dt class="spec value" id="val-print_global_stats"><a href="#val-print_global_stats" class="anchor"></a><code><span class="keyword">val </span>print_global_stats : comment:string <span>&#45;&gt;</span> unit <span>&#45;&gt;</span> unit</code></dt><dd><p>comment prefix</p></dd></dl><dl><dt class="spec value" id="val-incr_stat"><a href="#val-incr_stat" class="anchor"></a><code><span class="keyword">val </span>incr_stat : <a href="index.html#type-stat">stat</a> <span>&#45;&gt;</span> unit</code></dt><dd><p>comment prefix</p></dd></dl><dl><dt class="spec value" id="val-add_stat"><a href="#val-add_stat" class="anchor"></a><code><span class="keyword">val </span>add_stat : <a href="index.html#type-stat">stat</a> <span>&#45;&gt;</span> int <span>&#45;&gt;</span> unit</code></dt></dl></section><section><header><h3 id="flags-as-integers"><a href="#flags-as-integers" class="anchor"></a>Flags as integers</h3></header><div class="spec module" id="module-Flag"><a href="#module-Flag" class="anchor"></a><code><span class="keyword">module </span><a href="Flag/index.html">Flag</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></div></section><section><header><h3 id="others"><a href="#others" class="anchor"></a>Others</h3></header><dl><dt class="spec value" id="val-finally"><a href="#val-finally" class="anchor"></a><code><span class="keyword">val </span>finally : do_:(unit <span>&#45;&gt;</span> unit) <span>&#45;&gt;</span> (unit <span>&#45;&gt;</span> <span class="type-var">'a</span>) <span>&#45;&gt;</span> <span class="type-var">'a</span></code></dt><dd><p><code>finally ~do_ f</code> calls <code>f ()</code> and returns its result. If it raises, the same exception is raised; in <b>any</b> case, <code>do_ ()</code> is called after <code>f ()</code> terminates.</p></dd></dl><dl><dt class="spec value" id="val-pp_pair"><a href="#val-pp_pair" class="anchor"></a><code><span class="keyword">val </span>pp_pair : ?&#8288;sep:string <span>&#45;&gt;</span> <span class="type-var">'a</span> CCFormat.printer <span>&#45;&gt;</span> <span class="type-var">'b</span> CCFormat.printer <span>&#45;&gt;</span> (<span class="type-var">'a</span><span class="keyword"> * </span><span class="type-var">'b</span>) CCFormat.printer</code></dt><dt class="spec value" id="val-pp_list"><a href="#val-pp_list" class="anchor"></a><code><span class="keyword">val </span>pp_list : ?&#8288;sep:string <span>&#45;&gt;</span> <span class="type-var">'a</span> CCFormat.printer <span>&#45;&gt;</span> <span class="type-var">'a</span> list CCFormat.printer</code></dt><dd><p>Print a list without begin/end separators</p></dd></dl><dl><dt class="spec value" id="val-pp_seq"><a href="#val-pp_seq" class="anchor"></a><code><span class="keyword">val </span>pp_seq : ?&#8288;sep:string <span>&#45;&gt;</span> <span class="type-var">'a</span> CCFormat.printer <span>&#45;&gt;</span> <span class="type-var">'a</span> Sequence.t CCFormat.printer</code></dt><dt class="spec value" id="val-pp_list0"><a href="#val-pp_list0" class="anchor"></a><code><span class="keyword">val </span>pp_list0 : ?&#8288;sep:string <span>&#45;&gt;</span> <span class="type-var">'a</span> CCFormat.printer <span>&#45;&gt;</span> <span class="type-var">'a</span> list CCFormat.printer</code></dt><dd><p>Print a list with a whitespace in front if it's non empty, or does nothing if the list is empty Default separator is &quot; &quot;</p></dd></dl><dl><dt class="spec value" id="val-tstp_needs_escaping"><a href="#val-tstp_needs_escaping" class="anchor"></a><code><span class="keyword">val </span>tstp_needs_escaping : string <span>&#45;&gt;</span> bool</code></dt><dd><p>Is this name a proper TSTP identifier, or does it need ' ' around it?</p></dd></dl><dl><dt class="spec value" id="val-pp_str_tstp"><a href="#val-pp_str_tstp" class="anchor"></a><code><span class="keyword">val </span>pp_str_tstp : string CCFormat.printer</code></dt><dd><p>possibly escaping</p></dd></dl><dl><dt class="spec value" id="val-pp_var_tstp"><a href="#val-pp_var_tstp" class="anchor"></a><code><span class="keyword">val </span>pp_var_tstp : string CCFormat.printer</code></dt><dd><p>possibly escaping</p></dd></dl><dl><dt class="spec value" id="val-ord_option"><a href="#val-ord_option" class="anchor"></a><code><span class="keyword">val </span>ord_option : <span class="type-var">'a</span> CCOrd.t <span>&#45;&gt;</span> <span class="type-var">'a</span> option CCOrd.t</code></dt><dt class="spec value" id="val-take_drop_while"><a href="#val-take_drop_while" class="anchor"></a><code><span class="keyword">val </span>take_drop_while : (<span class="type-var">'a</span> <span>&#45;&gt;</span> bool) <span>&#45;&gt;</span> <span class="type-var">'a</span> list <span>&#45;&gt;</span> <span class="type-var">'a</span> list<span class="keyword"> * </span><span class="type-var">'a</span> list</code></dt><dt class="spec value" id="val-map_product"><a href="#val-map_product" class="anchor"></a><code><span class="keyword">val </span>map_product : f:(<span class="type-var">'a</span> <span>&#45;&gt;</span> <span class="type-var">'b</span> list list) <span>&#45;&gt;</span> <span class="type-var">'a</span> list <span>&#45;&gt;</span> <span class="type-var">'b</span> list list</code></dt><dt class="spec value" id="val-seq_map_l"><a href="#val-seq_map_l" class="anchor"></a><code><span class="keyword">val </span>seq_map_l : f:(<span class="type-var">'a</span> <span>&#45;&gt;</span> <span class="type-var">'b</span> list) <span>&#45;&gt;</span> <span class="type-var">'a</span> list <span>&#45;&gt;</span> <span class="type-var">'b</span> list Sequence.t</code></dt><dt class="spec value" id="val-seq_zipi"><a href="#val-seq_zipi" class="anchor"></a><code><span class="keyword">val </span>seq_zipi : <span class="type-var">'a</span> Sequence.t <span>&#45;&gt;</span> (int<span class="keyword"> * </span><span class="type-var">'a</span>) Sequence.t</code></dt><dt class="spec value" id="val-invalid_argf"><a href="#val-invalid_argf" class="anchor"></a><code><span class="keyword">val </span>invalid_argf : (<span class="type-var">'a</span>, Format.formatter, unit, <span class="type-var">'b</span>) Pervasives.format4 <span>&#45;&gt;</span> <span class="type-var">'a</span></code></dt><dt class="spec value" id="val-failwithf"><a href="#val-failwithf" class="anchor"></a><code><span class="keyword">val </span>failwithf : (<span class="type-var">'a</span>, Format.formatter, unit, <span class="type-var">'b</span>) Pervasives.format4 <span>&#45;&gt;</span> <span class="type-var">'a</span></code></dt></dl><div class="spec module" id="module-Int_map"><a href="#module-Int_map" class="anchor"></a><code><span class="keyword">module </span>Int_map : CCMap.S<span class="keyword"> with </span><span class="keyword">type </span><a href="index.html#module-Int_map">Int_map</a>.key<span class="keyword"> = </span>int</code></div><div class="spec module" id="module-Int_set"><a href="#module-Int_set" class="anchor"></a><code><span class="keyword">module </span>Int_set : CCSet.S<span class="keyword"> with </span><span class="keyword">type </span><a href="index.html#module-Int_set">Int_set</a>.elt<span class="keyword"> = </span>int</code></div><dl><dt class="spec value" id="val-escape_dot"><a href="#val-escape_dot" class="anchor"></a><code><span class="keyword">val </span>escape_dot : string <span>&#45;&gt;</span> string</code></dt><dd><p>String escaping for graphviz</p></dd></dl></section><section><header><h3 id="file-utils"><a href="#file-utils" class="anchor"></a>File utils</h3></header><dl><dt class="spec type" id="type-or_error"><a href="#type-or_error" class="anchor"></a><code><span class="keyword">type </span>'a or_error</code><code><span class="keyword"> = </span>(<span class="type-var">'a</span>, string) CCResult.t</code></dt></dl><dl><dt class="spec value" id="val-popen"><a href="#val-popen" class="anchor"></a><code><span class="keyword">val </span>popen : cmd:string <span>&#45;&gt;</span> input:string <span>&#45;&gt;</span> string <a href="index.html#type-or_error">or_error</a></code></dt><dd><p>Run the given command <code>cmd</code> with the given <code>input</code>, wait for it to terminate, and return its stdout.</p></dd></dl></section></section></div></body></html>